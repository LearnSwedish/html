<!DOCTYPE html>
<html lang="sv">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Adjective Agreement (definite non-regular): easy level</title>

    <!-- Font Awesome CDN for Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
<style>
/* Reset and Base Styles */
*,
*::before,
*::after {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
}

body {
	font-family: Arial, sans-serif;
	background-color: #f9fafb;
	color: #2d3748;
	line-height: 1.6;
	font-size: 16px;
	display: flex;
	flex-direction: column;
	justify-content: flex-start;
	align-items: center;
	min-height: 100vh;
	padding: 20px;
	overflow-y: auto;
	position: relative;
	transition: background-color 0.3s, color 0.3s;
}

body.dark-mode {
	background-color: #121212;
	color: #e2e8f0;
}

/* Close Button Styling */
.close-button {
	float: right;
	padding: 5px;
	cursor: pointer;
	font-size: 18px;
	background-color: #ccc;
	border: none;
	border-radius: 50%;
	line-height: 20px;
	width: 30px;
	height: 30px;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: background-color 0.3s, transform 0.3s;
}

body.dark-mode .close-button {
	background-color: #555;
	color: #ffcccc;
}

body.dark-mode .close-button:hover {
	background-color: #ff6666;
	color: white;
	transform: scale(1.2) rotate(90deg);
}

/* Container */
.container {
	background-color: #ffffff;
	padding: 40px 30px;
	border-radius: 12px;
	box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
	max-width: 850px;
	width: 100%;
	text-align: center;
	position: relative;
	transition: background-color 0.3s, box-shadow 0.3s;
	margin-top: 20px;
}

body.dark-mode .container {
	background-color: #1a202c;
	box-shadow: 0 10px 25px rgba(255, 255, 255, 0.1);
}

/* Dark Mode Toggle */
.dark-mode-toggle {
    justify-content: flex-start;
    padding: 0 10px;
    gap: 10px;
    cursor: pointer; /* √Ñndra fr√•n default till pointer */
    user-select: none;
}

/* Page Title */
.page-title {
	text-align: center;
	color: #333333;
	font-size: 28px;
	margin-bottom: 20px;
	line-height: 1.4;
	padding-top: 10px;
	position: relative;
	z-index: 1;
	transition: color 0.3s ease;
}

body.dark-mode .page-title {
	color: #ffffff;
}

/* Score, Start Over, and Dark Mode Toggle Container */
.score-container {
	position: fixed;
	top: 20px;
	right: 40px;
	display: flex;
	flex-direction: column;
	align-items: stretch;
	width: 150px;
	z-index: 1001;
	gap: 10px;
	transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

/* Sentence Styling */
.sentence {
	background-color: #f7fafc;
	padding: 20px;
	padding-bottom: 5px;
	border-radius: 8px;
	box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
	position: relative;
	transition: background-color 0.3s, border 0.3s;
	border-left: 6px solid transparent;
	text-align: left;
	/* Removed invalid data-state property */
}

body.dark-mode .sentence {
	background-color: #2d3748;
	box-shadow: 0 4px 10px rgba(255, 255, 255, 0.05);
}

.sentence.correct {
	border-left: 6px solid #38a169;
	background-color: #cdffcd;
	transition: border 0.3s, background-color 0.3s;
}

body.dark-mode .sentence.correct {
	border-left: 6px solid #38a169;
	background-color: #22543d;
}

.sentence.incorrect {
	border-left: 6px solid #e53e3e;
	background-color: #FFADB0;
	transition: border 0.3s, background-color 0.3s;
}

body.dark-mode .sentence.incorrect {
	border-left: 6px solid #e53e3e;
	background-color: #742a2a;
}

.sentence p {
	font-size: 1.1rem;
	margin-bottom: 10px;
	transition: color 0.3s;
	position: relative;
    display: block;
    width: 100%;
}

body.dark-mode .sentence p {
	color: #edf2f7;
}

.sentence select.first-dropdown {
    margin-left: 0 !important;
}

.sentence select:not(:first-child) {
    margin-left: 10px;
}

/* Select Element Styling */
.sentence select {
    padding: 4px 4px;
    font-size: inherit;
    border: 1px solid #cbd5e0;
    border-radius: 6px;
    background-color: #edf2f7;
    cursor: pointer;
    transition: border-color 0.3s, background-color 0.3s;
    width: auto;
    margin-left: 10px;   /* Avst√•nd till texten framf√∂r */
    margin-right: 10px;  /* Avst√•nd till texten efter */
}

body.dark-mode .sentence select {
	background-color: #4a5568;
	color: #edf2f7;
	border: 1px solid #718096;
}

.sentence select:focus {
	border-color: #3182ce;
	outline: none;
	box-shadow: 0 0 0 2px rgba(49, 130, 206, 0.2);
}

body.dark-mode .sentence select:focus {
	border-color: #63b3ed;
	box-shadow: 0 0 0 2px rgba(99, 179, 237, 0.2);
}

/* Sentences */
.sentences {
	display: grid;
	grid-template-columns: 1fr;
	gap: 20px;
}

/* Slider Container */
.switch {
	position: relative;
	width: 40px;
	height: 20px;
	display: inline-block;
}

/* Hide Default Checkbox */
.switch input {
	display: none;
}

/* Slider Appearance */
.slider {
	position: absolute;
	cursor: pointer;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background-color: #ccc;
	transition: 0.4s;
	border-radius: 20px;
}

.slider::before {
	position: absolute;
	content: "";
	height: 14px;
	width: 14px;
	left: 3px;
	bottom: 3px;
	background-color: white;
	transition: 0.4s;
	border-radius: 50%;
}

/* Slider Active State */
.switch input:checked+.slider {
	background-color: #007BFF;
}

.switch input:checked+.slider::before {
	transform: translateX(20px);
}

/* Start Over Button */
.start-over {
	background-color: #007BFF;
	color: white;
	cursor: pointer;
	border: none;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: background-color 0.3s ease;
}

.start-over:hover {
	background-color: #0056b3;
	color: white;
}

/* Unified Button Styling */
.score,
.dark-mode-toggle,
.start-over {
	width: 100%;
	height: 40px;
	padding: 0 10px;
	box-sizing: border-box;
	font-size: 16px;
	text-align: center;
	background-color: #fff;
	color: #333;
	border-radius: 5px;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
	display: flex;
	align-items: center;
	justify-content: center;
	transition: background-color 0.3s, color 0.3s;
	cursor: pointer;
	border: none;
}

/* Modal */
.modal {
	display: none;
	position: fixed;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	background: rgba(0, 0, 0, 0.5);
	z-index: 1000;
	justify-content: center;
	align-items: center;
	opacity: 0;
	transition: opacity 0.3s ease-in-out;
}

.modal-content {
	background: white;
	color: black;
	padding: 30px;
	/* N√•got mer luft f√∂r l√§sbarhet */
	border-radius: 8px;
	box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
	text-align: left;
	/* √Ñndrat fr√•n center till left */
	max-width: 600px;
	width: 90%;
	/* Lite bredare p√• mobiler */
	max-height: 80vh;
	/* S√§kerst√§ller att den inte t√§cker hela sk√§rmen p√• h√∂jden */
	overflow-y: auto;
	/* G√∂r inneh√•llet rullbart om det √§r l√•ngt */
	transform: translateY(-20px);
	transition: transform 0.3s ease-in-out;
}

/* Specifik styling f√∂r element inuti modalen */
.modal-content h2 {
	margin-top: 0;
	margin-bottom: 20px;
	font-size: 1.5rem;
}

.modal-content p {
	margin-bottom: 15px;
	line-height: 1.6;
}

.modal-content ul {
	margin-left: 20px;
	/* Ger punktlistan ett korrekt indrag */
	margin-bottom: 15px;
}

.modal-content li {
	margin-bottom: 10px;
}

body.dark-mode .modal-content {
	background-color: #1a202c;
	color: #edf2f7;
	border: 1px solid #2d3748;
	/* Lade till en tunn kant f√∂r definition */
}

.modal.show {
	display: flex;
	opacity: 1;
}

.modal.show .modal-content {
	transform: translateY(0);
}

/* Translation toggle ‚Äì default: OFF */
body:not(.show-translation) .tooltip-text {
	display: none;
}

/* Tooltip Container */
.sentence p {
	position: relative;
	/* Tog bort cursor: help; nu anv√§nds standardmark√∂r */
	display: block;
	/* √Ñndrat till block s√• att vi kan utg√• fr√•n v√§nsterkanten */
}

/* Tooltip Text */
.sentence .tooltip-text {
	visibility: hidden;
	white-space: nowrap;
	background-color: #2d3748;
	color: #fff;
	text-align: left;
	border-radius: 6px;
	padding: 10px 15px;
	position: absolute;
	z-index: 10;
	bottom: 110%;
	left: 0;
	opacity: 0;
	transition: opacity 0.3s, transform 0.3s;
	font-size: 1.05rem;
	font-style: normal;
	pointer-events: none;
	box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
	left: 0;
	bottom: 125%;
	width: max-content;
	max-width: 90%;
}

/* Tooltip Pil - flyttad till v√§nster f√∂r att matcha starten */
.sentence .tooltip-text::after {
	content: "";
	position: absolute;
	top: 100%;
	left: 20px;
	/* Pilen flyttad n√§rmare starten av meningen */
	border-width: 6px;
	border-style: solid;
	border-color: #2d3748 transparent transparent transparent;
}

/* Visa vid hover */
.sentence:hover .tooltip-text {
	visibility: visible;
	opacity: 1;
	transform: translateY(-5px);
}

/* Anpassning f√∂r Dark Mode */
body.dark-mode .sentence .tooltip-text {
	background-color: #4a5568;
	color: #edf2f7;
}

body.dark-mode .sentence .tooltip-text::after {
	border-color: #4a5568 transparent transparent transparent;
}


/* Container som h√•ller ihop badge och knapp l√§ngst till h√∂ger */
.gender-control-wrapper {
    float: right;
    display: flex;
    align-items: center;
    gap: 10px; /* üëà EXAKT 10px mellan badge och knapp */
    margin-left: 15px;
}

/* Uppdaterad gender-hint (badgen) */
.gender-hint {
    display: inline-block; 
    visibility: hidden;    
    opacity: 0;
    transform: translateX(10px); /* Startar lite till h√∂ger */
    transition: opacity 0.4s ease, transform 0.4s ease, visibility 0.4s;
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 0.9rem;
    font-weight: 400;
    border: 1.5px solid #cbd5e0;
    background-color: #e2e8f0;
    color: #4a5568;
    font-family: Arial, sans-serif;
    white-space: nowrap;
    line-height: normal; 
}


/* Visningslogik n√§r Show gender klickas */
.sentence.show-gender .gender-hint {
    visibility: visible;
    opacity: 1;
    transform: translateX(0);
}

/* Knappen - ingen float h√§r eftersom wrappern sk√∂ter det */
.gender-toggle {
    width: 110px;
    height: 28px;
    position: relative; /* N√∂dv√§ndigt f√∂r absolut positionering inuti */
    overflow: hidden;   /* D√∂ljer texten som glider ut */
    border-radius: 6px;
    border: 1.5px solid #94a3b8;
    background-color: #e2e8f0;
    cursor: pointer;
    font-family: Arial, sans-serif;
    font-weight: 700;
    font-size: 0.75rem;
    transition: all 0.3s ease;
}

.gender-toggle span {
    position: absolute;
    width: 100%;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    transition: opacity 0.3s ease, transform 0.3s ease;
    display: block;
    text-align: center;
}

/* "Hide gender" √§r osynlig och lite neds√§nkt initialt */
.gender-toggle .text-hide {
    opacity: 0;
    transform: translateY(10px);
}

/* N√§r klassen .show-gender finns p√• f√∂r√§ldern (.sentence) */
.sentence.show-gender .gender-toggle .text-show {
    opacity: 0;
    transform: translateY(-25px); /* Glider upp√•t och f√∂rsvinner */
}

.sentence.show-gender .gender-toggle .text-hide {
    opacity: 1;
    transform: translateY(-50%); /* Glider upp till mitten */
}

.sentence.show-gender .gender-toggle {
    background-color: #0ea5e9;
    border-color: #0284c7;
    color: white;
}

.gender-toggle:hover {
	background-color: #cbd5e1;
	border-color: #64748b;
}

/* Dark Mode anpassning */
body.dark-mode .gender-hint, 
body.dark-mode .gender-toggle {
    background-color: #2d3748;
    color: #edf2f7;
    border-color: #718096;
}

body.dark-mode .gender-toggle:hover {
    background-color: #475569;
}

/* üö´ Block entire site on small screens */
@media (max-width: 700px) {

    body > *:not(#mobileBlockModal) {
        display: none !important;
    }

    #mobileBlockModal {
        display: flex !important;
        position: fixed;
        inset: 0;
        z-index: 9999;
        opacity: 1;
    }
}
</style>

</head>

<body>

    <!-- Menu Items for Desktop -->
    <div class="score-container">
        <!-- Score Display for Desktop -->
        <div class="score">Score:&nbsp;<span class="score-display">0</span>&nbsp;/&nbsp;<span class="score-max"></span></div>
        <!-- Dark Mode Toggle for Desktop -->
        <div class="dark-mode-toggle">
            <label class="switch">
                <input type="checkbox" id="darkModeSwitch">
                <span class="slider"></span>
            </label>
            <span>Dark mode</span>
        </div>
<!-- Translation Toggle -->
<div class="dark-mode-toggle">
    <label class="switch">
        <input type="checkbox" id="translationSwitch">
        <span class="slider"></span>
    </label>
    <span>Translation</span>
</div>		
        <!-- Info Button for Desktop -->
        <button class="start-over" id="info-button" onclick="openModal('infoModal')">
            <i class="fas fa-info-circle" style="margin-right: 8px;"></i> Info
        </button>
        <!-- Go to harder version of the exercise (no gender indicated) -->
        <button class="start-over" onclick="goToMediumVersion()">
            <i class="fas fa-arrow-up-right-from-square" style="margin-right: 8px;"></i> Medium level
        </button>
        <button class="start-over" onclick="goToHardVersion()">
            <i class="fas fa-arrow-up-right-from-square" style="margin-right: 8px;"></i> Hard level
        </button>
        <!-- Start Over Button for Desktop -->
        <button class="start-over" onclick="startOver()">
            <i class="fas fa-rotate-left" style="margin-right: 8px;"></i> Start over
        </button>
    </div>

    <!-- Page Title -->
    <h1 class="page-title">Adjective Agreement | DEFINITE non-regular: easy level</h1>
    <p>Read the "Info" to understand what this exercise is about.</p>

    <!-- Main Content Container -->
    <div class="container">
        <div class="sentences" id="sentences"></div>
    </div>
    <div class="modal" id="infoModal" role="dialog" aria-modal="true" aria-labelledby="infoModalTitle">
        <div class="modal-content">
            <button class="close-button" type="button" onclick="closeModal('infoModal')" aria-label="Close modal">&times;</button>
            <h2 id="infoModalTitle">Information</h2>
            <p>This exercise practises non-regular Swedish adjectives in the definite form. You choose the correct definite article together with the adjective, so that they agree with the noun in gender and number. ‚ÄúNon-regular‚Äù refers to irregular adjectives, indeclinable adjectives, or defective adjectives.</p><br />

			<h2 id="infoModalTitle">Please note!</h2>
			<p>Featured in this exercise are <strong>tooltips with translations and gender indicators</strong>. For a greater challenge, <strong>try the medium or hard level versions</strong> (see the menu options).
			</p><br />
			
			<h2 id="infoModalTitle">Be careful!</h2>
			<p>Be particularly careful with the adjective ‚Äúliten‚Äù (‚Äúsmall‚Äù), which in the definite form becomes ‚Äúlilla‚Äù (common gender), ‚Äúlilla‚Äù (neuter), and ‚Äúsm√•‚Äù (plural).
			</p>
        </div>
    </div>

    <!-- Congratulations Modal -->
<div class="modal" id="congratulationsModal" role="dialog" aria-modal="true" aria-labelledby="congratulationsModalTitle">
    <div class="modal-content">
        <button class="close-button" type="button" onclick="closeModal('congratulationsModal')" aria-label="Close modal">&times;</button>
        <h2 id="congratulationsModalTitle">Congratulations!</h2> 
        <p>You have answered all the questions correctly! Did you manage to do it without making any mistakes?</p>
    </div>
</div>

<div class="modal" id="mobileBlockModal" role="dialog" aria-modal="true" aria-labelledby="mobileBlockTitle">
    <div class="modal-content" style="text-align:center;">
        <h2 id="mobileBlockTitle">Not available on mobile</h2>
        <p>
            This page ‚Äî an exercise on Swedish adjectives ‚Äî is not designed for mobile phones,
            mainly because many of the interactive features do not work well on small touchscreens.
        </p>
    </div>
</div>	

<script>

const sentences = [

{
    "translation": "They drove through the open gate.",
    "words": [
        { "sentencePart": "De k√∂rde genom" },
        {
            "sentencePart": `<select data-correct="den √∂ppna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den √∂ppna">den √∂ppna</option>
            <option value="det √∂ppna">det √∂ppna</option>
            <option value="de √∂ppna">de √∂ppna</option>
            </select>`,
        },
        { "sentencePart": "grinden. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "He walked in through the open door.",
    "words": [
        { "sentencePart": "Han gick in genom" },
        {
            "sentencePart": `<select data-correct="den √∂ppna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den √∂ppna">den √∂ppna</option>
            <option value="det √∂ppna">det √∂ppna</option>
            <option value="de √∂ppna">de √∂ppna</option>
            </select>`,
        },
        { "sentencePart": "d√∂rren. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The open window let in fresh air.",
    "words": [
        {
            "sentencePart": `<select data-correct="Det √∂ppna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den √∂ppna">Den √∂ppna</option>
            <option value="Det √∂ppna">Det √∂ppna</option>
            <option value="De √∂ppna">De √∂ppna</option>
            </select>`,
        },
        { "sentencePart": "f√∂nstret sl√§ppte in frisk luft. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The open ocean can be terrifying.",
    "words": [
        {
            "sentencePart": `<select data-correct="Det √∂ppna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den √∂ppna">Den √∂ppna</option>
            <option value="Det √∂ppna">Det √∂ppna</option>
            <option value="De √∂ppna">De √∂ppna</option>
            </select>`,
        },
        { "sentencePart": "havet kan vara skr√§mmande. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The open preschools are popular among parents.",
    "words": [
        {
            "sentencePart": `<select data-correct="De √∂ppna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den √∂ppna">Den √∂ppna</option>
            <option value="Det √∂ppna">Det √∂ppna</option>
            <option value="De √∂ppna">De √∂ppna</option>
            </select>`,
        },
        { "sentencePart": "f√∂rskolorna √§r popul√§ra bland f√∂r√§ldrar. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "She left the open envelopes on the table.",
    "words": [
        { "sentencePart": "Hon l√§mnade" },
        {
            "sentencePart": `<select data-correct="de √∂ppna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den √∂ppna">den √∂ppna</option>
            <option value="det √∂ppna">det √∂ppna</option>
            <option value="de √∂ppna">de √∂ppna</option>
            </select>`,
        },
        { "sentencePart": "kuverten p√• bordet. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The mad idea actually worked.",
    "words": [
        {
            "sentencePart": `<select data-correct="Den galna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den galna">Den galna</option>
            <option value="Det galna">Det galna</option>
            <option value="De galna">De galna</option>
            </select>`,
        },
        { "sentencePart": "id√©n fungerade faktiskt. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "I still think about that mad night.",
    "words": [
        { "sentencePart": "Jag t√§nker fortfarande p√•" },
        {
            "sentencePart": `<select data-correct="den galna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den galna">den galna</option>
            <option value="det galna">det galna</option>
            <option value="de galna">de galna</option>
            </select>`,
        },
        { "sentencePart": "natten. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The mad project cost too much money.",
    "words": [
        {
            "sentencePart": `<select data-correct="Det galna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den galna">Den galna</option>
            <option value="Det galna">Det galna</option>
            <option value="De galna">De galna</option>
            </select>`,
        },
        { "sentencePart": "projektet kostade f√∂r mycket pengar. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "Everyone laughed at the mad tempo.",
    "words": [
        { "sentencePart": "Alla skrattade √•t" },
        {
            "sentencePart": `<select data-correct="det galna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den galna">den galna</option>
            <option value="det galna">det galna</option>
            <option value="de galna">de galna</option>
            </select>`,
        },
        { "sentencePart": "tempot. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The mad cows had to be isolated.",
    "words": [
        {
            "sentencePart": `<select data-correct="De galna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den galna">Den galna</option>
            <option value="Det galna">Det galna</option>
            <option value="De galna">De galna</option>
            </select>`,
        },
        { "sentencePart": "korna var tvungna att isoleras. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "Who wrote the mad letters?",
    "words": [
        { "sentencePart": "Vem skrev" },
        {
            "sentencePart": `<select data-correct="de galna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den galna">den galna</option>
            <option value="det galna">det galna</option>
            <option value="de galna">de galna</option>
            </select>`,
        },
        { "sentencePart": "breven? <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The naked truth is hard to accept.",
    "words": [
        {
            "sentencePart": `<select data-correct="Den nakna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den nakna">Den nakna</option>
            <option value="Det nakna">Det nakna</option>
            <option value="De nakna">De nakna</option>
            </select>`,
        },
        { "sentencePart": "sanningen √§r sv√•r att acceptera. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The Naked Gun is a really good film.",
    "words": [
        {
            "sentencePart": `<select data-correct="\"Den nakna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="\"Den nakna">\"Den nakna</option>
            <option value="\"Det nakna">\"Det nakna</option>
            <option value="\"De nakna">\"De nakna</option>
            </select>`,
        },
        { "sentencePart": "pistolen\" √§r en riktigt bra film. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The naked child ran along the water's edge.",
    "words": [
        {
            "sentencePart": `<select data-correct="Det nakna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den nakna">Den nakna</option>
            <option value="Det nakna">Det nakna</option>
            <option value="De nakna">De nakna</option>
            </select>`,
        },
        { "sentencePart": "barnet sprang l√§ngs strandkanten. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "Have you read \"The Naked Eye\" by Yoko Tawada?",
    "words": [
        { "sentencePart": "Har du l√§st" },
        {
            "sentencePart": `<select data-correct="\"Det nakna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="\"Den nakna">\"Den nakna</option>
            <option value="\"Det nakna">\"Det nakna</option>
            <option value="\"De nakna">\"De nakna</option>
            </select>`,
        },
        { "sentencePart": "√∂gat\" av Yoko Tawada? <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The naked branches swayed in the wind.",
    "words": [
        {
            "sentencePart": `<select data-correct="De nakna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den nakna">Den nakna</option>
            <option value="Det nakna">Det nakna</option>
            <option value="De nakna">De nakna</option>
            </select>`,
        },
        { "sentencePart": "grenarna svajade i vinden. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "It was a shock to see the naked corpses.",
    "words": [
        { "sentencePart": "Det var en chock att se" },
        {
            "sentencePart": `<select data-correct="de nakna" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den nakna">den nakna</option>
            <option value="det nakna">det nakna</option>
            <option value="de nakna">de nakna</option>
            </select>`,
        },
        { "sentencePart": "liken. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The certain source refused to give more details.",
    "words": [
        {
            "sentencePart": `<select data-correct="Den s√§kra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den s√§kra">Den s√§kra</option>
            <option value="Det s√§kra">Det s√§kra</option>
            <option value="De s√§kra">De s√§kra</option>
            </select>`,
        },
        { "sentencePart": "k√§llan v√§grade ge fler detaljer. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "We followed the safe route.",
    "words": [
        { "sentencePart": "Vi f√∂ljde" },
        {
            "sentencePart": `<select data-correct="den s√§kra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den s√§kra">den s√§kra</option>
            <option value="det s√§kra">det s√§kra</option>
            <option value="de s√§kra">de s√§kra</option>
            </select>`,
        },
        { "sentencePart": "v√§gen. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The safe card is to stay at home.",
    "words": [
        {
            "sentencePart": `<select data-correct="Det s√§kra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den s√§kra">Den s√§kra</option>
            <option value="Det s√§kra">Det s√§kra</option>
            <option value="De s√§kra">De s√§kra</option>
            </select>`,
        },
        { "sentencePart": "kortet √§r att stanna hemma. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "I chose the safe alternative.",
    "words": [
        { "sentencePart": "Jag valde" },
        {
            "sentencePart": `<select data-correct="det s√§kra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den s√§kra">den s√§kra</option>
            <option value="det s√§kra">det s√§kra</option>
            <option value="de s√§kra">de s√§kra</option>
            </select>`,
        },
        { "sentencePart": "alternativet. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The safe signs were visible from afar.",
    "words": [
        {
            "sentencePart": `<select data-correct="De s√§kra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den s√§kra">Den s√§kra</option>
            <option value="Det s√§kra">Det s√§kra</option>
            <option value="De s√§kra">De s√§kra</option>
            </select>`,
        },
        { "sentencePart": "tecknen syntes p√• l√•ngt h√•ll. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "We identified the safe winners.",
    "words": [
        { "sentencePart": "Vi identifierade" },
        {
            "sentencePart": `<select data-correct="de s√§kra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den s√§kra">den s√§kra</option>
            <option value="det s√§kra">det s√§kra</option>
            <option value="de s√§kra">de s√§kra</option>
            </select>`,
        },
        { "sentencePart": "vinnarna. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The lean meat is healthier.",
    "words": [
        {
            "sentencePart": `<select data-correct="Det magra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den magra">Den magra</option>
            <option value="Det magra">Det magra</option>
            <option value="De magra">De magra</option>
            </select>`,
        },
        { "sentencePart": "k√∂ttet √§r nyttigare. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The study suffered from the meagre source material.",
    "words": [
        { "sentencePart": "Studien led av" },
        {
            "sentencePart": `<select data-correct="det magra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den magra">den magra</option>
            <option value="det magra">det magra</option>
            <option value="de magra">de magra</option>
            </select>`,
        },
        { "sentencePart": "k√§llmaterialet. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The thin soil was not suitable for cultivation.",
    "words": [
        {
            "sentencePart": `<select data-correct="Den magra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den magra">Den magra</option>
            <option value="Det magra">Det magra</option>
            <option value="De magra">De magra</option>
            </select>`,
        },
        { "sentencePart": "jorden l√§mpade sig inte f√∂r odling. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "I felt sorry for the thin cat.",
    "words": [
        { "sentencePart": "Jag tyckte synd om" },
        {
            "sentencePart": `<select data-correct="den magra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den magra">den magra</option>
            <option value="det magra">det magra</option>
            <option value="de magra">de magra</option>
            </select>`,
        },
        { "sentencePart": "katten. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The meagre years are finally over.",
    "words": [
        {
            "sentencePart": `<select data-correct="De magra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den magra">Den magra</option>
            <option value="Det magra">Det magra</option>
            <option value="De magra">De magra</option>
            </select>`,
        },
        { "sentencePart": "√•ren √§r √§ntligen √∂ver. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "They looked at the thin cows.",
    "words": [
        { "sentencePart": "De tittade p√•" },
        {
            "sentencePart": `<select data-correct="de magra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den magra">den magra</option>
            <option value="det magra">det magra</option>
            <option value="de magra">de magra</option>
            </select>`,
        },
        { "sentencePart": "korna. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The lousy weather ruined the holiday.",
    "words": [
        {
            "sentencePart": `<select data-correct="Det usla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den usla">Den usla</option>
            <option value="Det usla">Det usla</option>
            <option value="De usla">De usla</option>
            </select>`,
        },
        { "sentencePart": "v√§dret f√∂rst√∂rde semestern. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "I hate the lousy result.",
    "words": [
        { "sentencePart": "Jag hatar" },
        {
            "sentencePart": `<select data-correct="det usla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den usla">den usla</option>
            <option value="det usla">det usla</option>
            <option value="de usla">de usla</option>
            </select>`,
        },
        { "sentencePart": "resultatet. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The lousy service made us leave the restaurant.",
    "words": [
        {
            "sentencePart": `<select data-correct="Den usla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den usla">Den usla</option>
            <option value="Det usla">Det usla</option>
            <option value="De usla">De usla</option>
            </select>`,
        },
        { "sentencePart": "servicen fick oss att l√§mna restaurangen. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "She complained about the lousy pay.",
    "words": [
        { "sentencePart": "Hon klagade p√•" },
        {
            "sentencePart": `<select data-correct="den usla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den usla">den usla</option>
            <option value="det usla">det usla</option>
            <option value="de usla">de usla</option>
            </select>`,
        },
        { "sentencePart": "l√∂nen. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The lousy grades were a disappointment.",
    "words": [
        {
            "sentencePart": `<select data-correct="De usla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den usla">Den usla</option>
            <option value="Det usla">Det usla</option>
            <option value="De usla">De usla</option>
            </select>`,
        },
        { "sentencePart": "betygen var en besvikelse. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "We were shocked by the lousy conditions.",
    "words": [
        { "sentencePart": "Vi chockades av" },
        {
            "sentencePart": `<select data-correct="de usla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den usla">den usla</option>
            <option value="det usla">det usla</option>
            <option value="de usla">de usla</option>
            </select>`,
        },
        { "sentencePart": "villkoren. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The stupid question remained unanswered.",
    "words": [
        {
            "sentencePart": `<select data-correct="Den korkade" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den korkade">Den korkade</option>
            <option value="Det korkade">Det korkade</option>
            <option value="De korkade">De korkade</option>
            </select>`,
        },
        { "sentencePart": "fr√•gan f√∂rblev obesvarad. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "I regret the stupid remark.",
    "words": [
        { "sentencePart": "Jag √•ngrar" },
        {
            "sentencePart": `<select data-correct="den korkade" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den korkade">den korkade</option>
            <option value="det korkade">det korkade</option>
            <option value="de korkade">de korkade</option>
            </select>`,
        },
        { "sentencePart": "kommentaren. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The stupid decision had serious consequences.",
    "words": [
        {
            "sentencePart": `<select data-correct="Det korkade" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den korkade">Den korkade</option>
            <option value="Det korkade">Det korkade</option>
            <option value="De korkade">De korkade</option>
            </select>`,
        },
        { "sentencePart": "beslutet fick allvarliga konsekvenser. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "They laughed at the stupid mistake.",
    "words": [
        { "sentencePart": "De skrattade √•t" },
        {
            "sentencePart": `<select data-correct="det korkade" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den korkade">den korkade</option>
            <option value="det korkade">det korkade</option>
            <option value="de korkade">de korkade</option>
            </select>`,
        },
        { "sentencePart": "misstaget. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The stupid arguments never seemed to end.",
    "words": [
        {
            "sentencePart": `<select data-correct="De korkade" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den korkade">Den korkade</option>
            <option value="Det korkade">Det korkade</option>
            <option value="De korkade">De korkade</option>
            </select>`,
        },
        { "sentencePart": "argumenten verkade aldrig ta slut. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "Who supports the stupid suggestions?",
    "words": [
        { "sentencePart": "Vem st√∂der" },
        {
            "sentencePart": `<select data-correct="de korkade" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den korkade">den korkade</option>
            <option value="det korkade">det korkade</option>
            <option value="de korkade">de korkade</option>
            </select>`,
        },
        { "sentencePart": "f√∂rslagen? <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The similar method yielded the same result.",
    "words": [
        {
            "sentencePart": `<select data-correct="Den likartade" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den likartade">Den likartade</option>
            <option value="Det likartade">Det likartade</option>
            <option value="De likartade">De likartade</option>
            </select>`,
        },
        { "sentencePart": "metoden gav samma resultat. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The similar situation is now confirmed in China.",
    "words": [
        { "sentencePart": "Nu bekr√§ftas" },
        {
            "sentencePart": `<select data-correct="den likartade" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den likartade">den likartade</option>
            <option value="det likartade">det likartade</option>
            <option value="de likartade">de likartade</option>
            </select>`,
        },
        { "sentencePart": "situationen i Kina. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "Purple? I used the similar adjective violet.",
    "words": [
        { "sentencePart": "Lila? Jag anv√§nde" },
        {
            "sentencePart": `<select data-correct="det likartade" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den likartade">den likartade</option>
            <option value="det likartade">det likartade</option>
            <option value="de likartade">de likartade</option>
            </select>`,
        },
        { "sentencePart": "adjektivet violett. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The only connection here is the similar name.",
    "words": [
        { "sentencePart": "Det enda sambandet h√§r √§r" },
        {
            "sentencePart": `<select data-correct="det likartade" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den likartade">den likartade</option>
            <option value="det likartade">det likartade</option>
            <option value="de likartade">de likartade</option>
            </select>`,
        },
        { "sentencePart": "namnet. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The similar examples were many.",
    "words": [
        {
            "sentencePart": `<select data-correct="De likartade" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den likartade">Den likartade</option>
            <option value="Det likartade">Det likartade</option>
            <option value="De likartade">De likartade</option>
            </select>`,
        },
        { "sentencePart": "exemplen var m√•nga. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "We studied the similar phenomena.",
    "words": [
        { "sentencePart": "Vi studerade" },
        {
            "sentencePart": `<select data-correct="de likartade" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den likartade">den likartade</option>
            <option value="det likartade">det likartade</option>
            <option value="de likartade">de likartade</option>
            </select>`,
        },
        { "sentencePart": "fenomenen. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The old woman smiled at me.",
    "words": [
        {
            "sentencePart": `<select data-correct="Den gamla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den gamla">Den gamla</option>
            <option value="Det gamla">Det gamla</option>
            <option value="De gamla">De gamla</option>
            </select>`,
        },
        { "sentencePart": "kvinnan log mot mig. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "I missed the old city.",
    "words": [
        { "sentencePart": "Jag saknade" },
        {
            "sentencePart": `<select data-correct="den gamla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den gamla">den gamla</option>
            <option value="det gamla">det gamla</option>
            <option value="de gamla">de gamla</option>
            </select>`,
        },
        { "sentencePart": "staden. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The old house needs to be renovated.",
    "words": [
        {
            "sentencePart": `<select data-correct="Det gamla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den gamla">Den gamla</option>
            <option value="Det gamla">Det gamla</option>
            <option value="De gamla">De gamla</option>
            </select>`,
        },
        { "sentencePart": "huset beh√∂ver renoveras. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "They sat on the old floor.",
    "words": [
        { "sentencePart": "De satt p√•" },
        {
            "sentencePart": `<select data-correct="det gamla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den gamla">den gamla</option>
            <option value="det gamla">det gamla</option>
            <option value="de gamla">de gamla</option>
            </select>`,
        },
        { "sentencePart": "golvet. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The old books were very dusty.",
    "words": [
        {
            "sentencePart": `<select data-correct="De gamla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den gamla">Den gamla</option>
            <option value="Det gamla">Det gamla</option>
            <option value="De gamla">De gamla</option>
            </select>`,
        },
        { "sentencePart": "b√∂ckerna var v√§ldigt dammiga. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "He sorted the old letters.",
    "words": [
        { "sentencePart": "Han sorterade" },
        {
            "sentencePart": `<select data-correct="de gamla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den gamla">den gamla</option>
            <option value="det gamla">det gamla</option>
            <option value="de gamla">de gamla</option>
            </select>`,
        },
        { "sentencePart": "breven. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "Oh dear! And what was the good news?",
    "words": [
	        { "sentencePart": "Attans! Och vilken var" },
        {
            "sentencePart": `<select data-correct="den bra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den bra">den bra</option>
            <option value="det bra">det bra</option>
            <option value="de bra">de bra</option>
            </select>`,
        },
        { "sentencePart": "nyheten? <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "He remembered the good day from his childhood.",
    "words": [
        { "sentencePart": "Han mindes" },
        {
            "sentencePart": `<select data-correct="den bra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den bra">den bra</option>
            <option value="det bra">det bra</option>
            <option value="de bra">de bra</option>
            </select>`,
        },
        { "sentencePart": "dagen fr√•n barndomen. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The good argument won the debate.",
    "words": [
        {
            "sentencePart": `<select data-correct="Det bra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den bra">Den bra</option>
            <option value="Det bra">Det bra</option>
            <option value="De bra">De bra</option>
            </select>`,
        },
        { "sentencePart": "argumentet vann debatten. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "She emphasised the good treatment in the evaluation.",
    "words": [
        { "sentencePart": "Hon betonade" },
        {
            "sentencePart": `<select data-correct="det bra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den bra">den bra</option>
            <option value="det bra">det bra</option>
            <option value="de bra">de bra</option>
            </select>`,
        },
        { "sentencePart": "bem√∂tandet i utv√§rderingen. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The good results were expected.",
    "words": [
        {
            "sentencePart": `<select data-correct="De bra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den bra">Den bra</option>
            <option value="Det bra">Det bra</option>
            <option value="De bra">De bra</option>
            </select>`,
        },
        { "sentencePart": "resultaten var v√§ntade. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "He was rewarded for the good efforts.",
    "words": [
        { "sentencePart": "Han bel√∂nades f√∂r" },
        {
            "sentencePart": `<select data-correct="de bra" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den bra">den bra</option>
            <option value="det bra">det bra</option>
            <option value="de bra">de bra</option>
            </select>`,
        },
        { "sentencePart": "insatserna. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The little girl is sleeping.",
    "words": [
        {
            "sentencePart": `<select data-correct="Den lilla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den lilla">Den lilla</option>
            <option value="Det lilla">Det lilla</option>
            <option value="De lilla">De lilla</option>
            </select>`,
        },
        { "sentencePart": "flickan sover. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "He opened the little box.",
    "words": [
        { "sentencePart": "Han √∂ppnade" },
        {
            "sentencePart": `<select data-correct="den lilla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den lilla">den lilla</option>
            <option value="det lilla">det lilla</option>
            <option value="de lilla">de lilla</option>
            </select>`,
        },
        { "sentencePart": "asken. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "A Fiat 500? Do you mean the little car over there?",
    "words": [
        { "sentencePart": "En Fiat 500? Menar du" },
        {
            "sentencePart": `<select data-correct="den lilla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den lilla">den lilla</option>
            <option value="det lilla">det lilla</option>
            <option value="de lilla">de lilla</option>
            </select>`,
        },
        { "sentencePart": "bilen d√§r borta? <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The little cat meowed.",
    "words": [
        {
            "sentencePart": `<select data-correct="Den lilla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den lilla">Den lilla</option>
            <option value="Det lilla">Det lilla</option>
            <option value="De lilla">De lilla</option>
            </select>`,
        },
        { "sentencePart": "katten mjauade. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "She looked at the little star.",
    "words": [
        { "sentencePart": "Hon tittade p√•" },
        {
            "sentencePart": `<select data-correct="den lilla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den lilla">den lilla</option>
            <option value="det lilla">det lilla</option>
            <option value="de lilla">de lilla</option>
            </select>`,
        },
        { "sentencePart": "stj√§rnan. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The little child is crying.",
    "words": [
        {
            "sentencePart": `<select data-correct="Det lilla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den lilla">Den lilla</option>
            <option value="Det lilla">Det lilla</option>
            <option value="De lilla">De lilla</option>
            </select>`,
        },
        { "sentencePart": "barnet gr√•ter. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "She lives in the little house on the prairie.",
    "words": [
        { "sentencePart": "Hon bor i" },
        {
            "sentencePart": `<select data-correct="det lilla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den lilla">den lilla</option>
            <option value="det lilla">det lilla</option>
            <option value="de lilla">de lilla</option>
            </select>`,
        },
        { "sentencePart": "huset p√• pr√§rien. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The little table fits there.",
    "words": [
        {
            "sentencePart": `<select data-correct="Det lilla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den lilla">Den lilla</option>
            <option value="Det lilla">Det lilla</option>
            <option value="De lilla">De lilla</option>
            </select>`,
        },
        { "sentencePart": "bordet f√•r plats d√§r. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "They found the little nest.",
    "words": [
        { "sentencePart": "De hittade" },
        {
            "sentencePart": `<select data-correct="det lilla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den lilla">den lilla</option>
            <option value="det lilla">det lilla</option>
            <option value="de lilla">de lilla</option>
            </select>`,
        },
        { "sentencePart": "boet. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "Why should I be the one to stay in the little room?",
    "words": [
        { "sentencePart": "Varf√∂r ska just jag bo i" },
        {
            "sentencePart": `<select data-correct="det lilla" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den lilla">den lilla</option>
            <option value="det lilla">det lilla</option>
            <option value="de sm√•">de sm√•</option>
            </select>`,
        },
        { "sentencePart": "rummet? <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The small children are playing.",
    "words": [
        {
            "sentencePart": `<select data-correct="De sm√•" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den lilla">Den lilla</option>
            <option value="Det lilla">Det lilla</option>
            <option value="De sm√•">De sm√•</option>
            </select>`,
        },
        { "sentencePart": "barnen leker. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "She took the small coins.",
    "words": [
        { "sentencePart": "Hon tog" },
        {
            "sentencePart": `<select data-correct="de sm√•" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den lilla">den lilla</option>
            <option value="det lilla">det lilla</option>
            <option value="de sm√•">de sm√•</option>
            </select>`,
        },
        { "sentencePart": "mynten. <span class='gender-hint gender-t'>ett</span>" }
    ]
},
{
    "translation": "The small shops are going bankrupt at a breakneck pace.",
    "words": [
        {
            "sentencePart": `<select data-correct="De sm√•" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den lilla">Den lilla</option>
            <option value="Det lilla">Det lilla</option>
            <option value="De sm√•">De sm√•</option>
            </select>`,
        },
        { "sentencePart": "butikerna g√•r i konkurs i rasande fart. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "He fed the small birds.",
    "words": [
        { "sentencePart": "Han matade" },
        {
            "sentencePart": `<select data-correct="de sm√•" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="den lilla">den lilla</option>
            <option value="det lilla">det lilla</option>
            <option value="de sm√•">de sm√•</option>
            </select>`,
        },
        { "sentencePart": "f√•glarna. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "translation": "The small details matter.",
    "words": [
        {
            "sentencePart": `<select data-correct="De sm√•" onchange="evaluateAnswer(this)" aria-label="V√§lj r√§tt alternativ">
            <option value="">Select</option>
            <option value="Den lilla">Den lilla</option>
            <option value="Det lilla">Det lilla</option>
            <option value="De sm√•">De sm√•</option>
            </select>`,
        },
        { "sentencePart": "detaljerna spelar roll. <span class='gender-hint gender-n'>en</span>" }
    ]
},
{
    "meta": { "adj": "bra", "noun": "dag", "number": "sg." },
    "words": [
        { "sentencePart": "Han mindes" },
        { "sentencePart": `<select class="adj-select" data-correct="den bra" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="den bra">den bra</option><option value="det bra">det bra</option><option value="de bra">de bra</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="dagen" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="dag">dag</option><option value="dagen">dagen</option><option value="dagar">dagar</option><option value="dagarna">dagarna</option></select>` },
        { "sentencePart": "fr√•n barndomen." }
    ]
},
{
    "meta": { "adj": "bra", "noun": "argument", "number": "sg." },
    "words": [
        { "sentencePart": `<select class="adj-select" data-correct="Det bra" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="Den bra">Den bra</option><option value="Det bra">Det bra</option><option value="De bra">De bra</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="argumentet" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="argument">argument</option><option value="argumentet">argumentet</option><option value="argument">argument</option><option value="argumenten">argumenten</option></select>` },
        { "sentencePart": "vann debatten." }
    ]
},
{
    "meta": { "adj": "bra", "noun": "bem√∂tande", "number": "sg." },
    "words": [
        { "sentencePart": "Hon betonade" },
        { "sentencePart": `<select class="adj-select" data-correct="det bra" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="den bra">den bra</option><option value="det bra">det bra</option><option value="de bra">de bra</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="bem√∂tandet" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="bem√∂tande">bem√∂tande</option><option value="bem√∂tandet">bem√∂tandet</option><option value="bem√∂tanden">bem√∂tanden</option><option value="bem√∂tandena">bem√∂tandena</option></select>` },
        { "sentencePart": "i utv√§rderingen." }
    ]
},
{
    "meta": { "adj": "bra", "noun": "resultat", "number": "pl." },
    "words": [
        { "sentencePart": `<select class="adj-select" data-correct="De bra" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="Den bra">Den bra</option><option value="Det bra">Det bra</option><option value="De bra">De bra</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="resultaten" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="resultat">resultat</option><option value="resultatet">resultatet</option><option value="resultat">resultat</option><option value="resultaten">resultaten</option></select>` },
        { "sentencePart": "var v√§ntade." }
    ]
},
{
    "meta": { "adj": "bra", "noun": "insats", "number": "pl." },
    "words": [
        { "sentencePart": "Han bel√∂nades f√∂r" },
        { "sentencePart": `<select class="adj-select" data-correct="de bra" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="den bra">den bra</option><option value="det bra">det bra</option><option value="de bra">de bra</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="insatserna" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="insats">insats</option><option value="insatsen">insatsen</option><option value="insatser">insatser</option><option value="insatserna">insatserna</option></select>` },
        { "sentencePart": "<span class='punct'>.</span>" }
    ]
},
{
    "meta": { "adj": "liten", "noun": "flicka", "number": "sg." },
    "words": [
        { "sentencePart": `<select class="adj-select" data-correct="Den lilla" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="Den lilla">Den lilla</option><option value="Det lilla">Det lilla</option><option value="De sm√•">De sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="flickan" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="flicka">flicka</option><option value="flickan">flickan</option><option value="flickor">flickor</option><option value="flickorna">flickorna</option></select>` },
        { "sentencePart": "sover." }
    ]
},
{
    "meta": { "adj": "liten", "noun": "ask", "number": "sg." },
    "words": [
        { "sentencePart": "Han √∂ppnade" },
        { "sentencePart": `<select class="adj-select" data-correct="den lilla" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="den lilla">den lilla</option><option value="det lilla">det lilla</option><option value="de sm√•">de sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="asken" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="ask">ask</option><option value="asken">asken</option><option value="askar">askar</option><option value="askarna">askarna</option></select>` },
        { "sentencePart": "<span class='punct'>.</span>" }
    ]
},
{
    "meta": { "adj": "liten", "noun": "bil", "number": "sg." },
    "words": [
        { "sentencePart": "En Fiat 500? Menar du" },
        { "sentencePart": `<select class="adj-select" data-correct="den lilla" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="den lilla">den lilla</option><option value="det lilla">det lilla</option><option value="de sm√•">de sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="bilen" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="bil">bil</option><option value="bilen">bilen</option><option value="bilar">bilar</option><option value="bilarna">bilarna</option></select>` },
        { "sentencePart": "d√§r borta?" }
    ]
},
{
    "meta": { "adj": "liten", "noun": "katt", "number": "sg." },
    "words": [
        { "sentencePart": `<select class="adj-select" data-correct="Den lilla" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="Den lilla">Den lilla</option><option value="Det lilla">Det lilla</option><option value="De sm√•">De sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="katten" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="katt">katt</option><option value="katten">katten</option><option value="katter">katter</option><option value="katterna">katterna</option></select>` },
        { "sentencePart": "mjauade." }
    ]
},
{
    "meta": { "adj": "liten", "noun": "stj√§rna", "number": "sg." },
    "words": [
        { "sentencePart": "Hon tittade p√•" },
        { "sentencePart": `<select class="adj-select" data-correct="den lilla" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="den lilla">den lilla</option><option value="det lilla">det lilla</option><option value="de sm√•">de sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="stj√§rnan" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="stj√§rna">stj√§rna</option><option value="stj√§rnan">stj√§rnan</option><option value="stj√§rnor">stj√§rnor</option><option value="stj√§rnorna">stj√§rnorna</option></select>` },
        { "sentencePart": "<span class='punct'>.</span>" }
    ]
},
{
    "meta": { "adj": "liten", "noun": "barn", "number": "sg." },
    "words": [
        { "sentencePart": `<select class="adj-select" data-correct="Det lilla" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="Den lilla">Den lilla</option><option value="Det lilla">Det lilla</option><option value="De sm√•">De sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="barnet" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="barn">barn</option><option value="barnet">barnet</option><option value="barn">barn</option><option value="barnen">barnen</option></select>` },
        { "sentencePart": "gr√•ter." }
    ]
},
{
    "meta": { "adj": "liten", "noun": "hus", "number": "sg." },
    "words": [
        { "sentencePart": "Han bor i" },
        { "sentencePart": `<select class="adj-select" data-correct="det lilla" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="den lilla">den lilla</option><option value="det lilla">det lilla</option><option value="de sm√•">de sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="huset" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="hus">hus</option><option value="huset">huset</option><option value="hus">hus</option><option value="husen">husen</option></select>` },
        { "sentencePart": "<span class='punct'>.</span>" }
    ]
},
{
    "meta": { "adj": "liten", "noun": "bord", "number": "sg." },
    "words": [
        { "sentencePart": `<select class="adj-select" data-correct="Det lilla" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="Den lilla">Den lilla</option><option value="Det lilla">Det lilla</option><option value="De sm√•">De sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="bordet" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="bord">bord</option><option value="bordet">bordet</option><option value="bord">bord</option><option value="borden">borden</option></select>` },
        { "sentencePart": "f√•r plats d√§r." }
    ]
},
{
    "meta": { "adj": "liten", "noun": "bo", "number": "sg." },
    "words": [
        { "sentencePart": "De hittade" },
        { "sentencePart": `<select class="adj-select" data-correct="det lilla" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="den lilla">den lilla</option><option value="det lilla">det lilla</option><option value="de sm√•">de sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="boet" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="bo">bo</option><option value="boet">boet</option><option value="bon">bon</option><option value="bona">bona</option></select>` },
        { "sentencePart": "<span class='punct'>.</span>" }
    ]
},
{
    "meta": { "adj": "liten", "noun": "rum", "number": "sg." },
    "words": [
        { "sentencePart": "Varf√∂r ska just jag bo i" },
        { "sentencePart": `<select class="adj-select" data-correct="det lilla" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="den lilla">den lilla</option><option value="det lilla">det lilla</option><option value="de sm√•">de sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="rummet" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="rum">rum</option><option value="rummet">rummet</option><option value="rum">rum</option><option value="rummen">rummen</option></select>` },
        { "sentencePart": "<span class='punct'>?</span>" }
    ]
},
{
    "meta": { "adj": "liten", "noun": "barn", "number": "pl." },
    "words": [
        { "sentencePart": `<select class="adj-select" data-correct="De sm√•" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="Den lilla">Den lilla</option><option value="Det lilla">Det lilla</option><option value="De sm√•">De sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="barnen" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="barn">barn</option><option value="barnet">barnet</option><option value="barn">barn</option><option value="barnen">barnen</option></select>` },
        { "sentencePart": "leker." }
    ]
},
{
    "meta": { "adj": "liten", "noun": "mynt", "number": "pl." },
    "words": [
        { "sentencePart": "Hon tog" },
        { "sentencePart": `<select class="adj-select" data-correct="de sm√•" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="den lilla">den lilla</option><option value="det lilla">det lilla</option><option value="de sm√•">de sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="mynten" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="mynt">mynt</option><option value="myntet">myntet</option><option value="mynt">mynt</option><option value="mynten">mynten</option></select>` },
        { "sentencePart": "<span class='punct'>.</span>" }
    ]
},
{
    "meta": { "adj": "liten", "noun": "butik", "number": "pl." },
    "words": [
        { "sentencePart": `<select class="adj-select" data-correct="De sm√•" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="Den lilla">Den lilla</option><option value="Det lilla">Det lilla</option><option value="De sm√•">De sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="butikerna" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="butik">butik</option><option value="butiken">butiken</option><option value="butiker">butiker</option><option value="butikerna">butikerna</option></select>` },
        { "sentencePart": "g√•r i konkurs i rasande fart." }
    ]
},
{
    "meta": { "adj": "liten", "noun": "f√•gel", "number": "pl." },
    "words": [
        { "sentencePart": "Han matade" },
        { "sentencePart": `<select class="adj-select" data-correct="de sm√•" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="den lilla">den lilla</option><option value="det lilla">det lilla</option><option value="de sm√•">de sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="f√•glarna" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="f√•gel">f√•gel</option><option value="f√•geln">f√•geln</option><option value="f√•glar">f√•glar</option><option value="f√•glarna">f√•glarna</option></select>` },
        { "sentencePart": "<span class='punct'>.</span>" }
    ]
},
{
    "meta": { "adj": "liten", "noun": "detalj", "number": "pl." },
    "words": [
        { "sentencePart": `<select class="adj-select" data-correct="De sm√•" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="Den lilla">Den lilla</option><option value="Det lilla">Det lilla</option><option value="De sm√•">De sm√•</option></select>` },
        { "sentencePart": `<select class="noun-select" data-correct="detaljerna" onchange="evaluateAnswer(this)"><option value="">Select</option><option value="detalj">detalj</option><option value="detaljen">detaljen</option><option value="detaljer">detaljer</option><option value="detaljerna">detaljerna</option></select>` },
        { "sentencePart": "spelar roll." }
    ]
}

];

let score=0;

// Fisher-Yates shuffle algorithm to shuffle an array.
function shuffleArray(array) {
	for (let i=array.length - 1; i > 0; i--) {
		const j=Math.floor(Math.random() * (i + 1));
		[array[i],
		array[j]]=[array[j],
		array[i]];
	}

	return array;
}

function toggleTranslation() {
	document.body.classList.toggle('show-translation');

	const enabled=document.body.classList.contains('show-translation');
	localStorage.setItem('translationMode', enabled ? 'enabled' : 'disabled');
}

function toggleGender(button) {
	const sentenceDiv = button.closest('.sentence');
    sentenceDiv.classList.toggle('show-gender');
}

function capitalize(word) {
	return word.charAt(0).toUpperCase()+word.slice(1);
}


// Function to generate HTML for a single sentence
function generateSentenceHTML(sentence, index) {
    let extractedGenderBadge = "";

    const sentenceHTML = sentence.words.map((item, i) => { // Lade till 'i' f√∂r index
        let part = item.sentencePart;

        // Om detta √§r f√∂rsta delen av meningen och det √§r en select
        if (i === 0 && part.includes("<select")) {
            part = part.replace("<select", '<select class="first-dropdown"');
        }

        // 1. Hitta och extrahera gender-hint
        if (part.includes("gender-hint")) {
            const badgeRegex = /<span class=['"]gender-hint[^>]*>.*?<\/span>/;
            const match = part.match(badgeRegex);
            if (match) {
                extractedGenderBadge = match[0];
                part = part.replace(badgeRegex, "");
            }
        }

        return part; // Returnera texten/select-elementet direkt
    }).join('');

    const tooltipSpan = sentence.translation
        ? `<span class="tooltip-text">${sentence.translation}</span>`
        : "";

    // Returnera den f√§rdiga str√§ngen
    return `<div class="sentence">
        <p>
            ${sentenceHTML}
            <span class="gender-control-wrapper">
                ${extractedGenderBadge}
                <button class="gender-toggle" onclick="toggleGender(this)">
                    <span class="text-show">Show gender</span>
                    <span class="text-hide">Hide gender</span>
                </button>
            </span>
            ${tooltipSpan}
        </p>
    </div>`;
}

// Render sentences in a shuffled order.
function renderSentences() {
	const shuffledSentences=shuffleArray([...sentences]);
	const sentencesHTML=shuffledSentences.map((sentence, index)=> generateSentenceHTML(sentence, index)).join('');
	document.getElementById('sentences').innerHTML=sentencesHTML;
}

// Evaluates the user's answer and updates the score and UI accordingly.
function evaluateAnswer(selectElement) {
	const correctAnswer=selectElement.getAttribute('data-correct');
	const selectedValue=selectElement.value;
	const parent=selectElement.closest('.sentence');

	// Spara den gamla statusen innan vi uppdaterar
	const wasCorrect=parent.classList.contains('correct');

	// Uppdatera UI: ta bort gamla f√§rger
	parent.classList.remove('correct', 'incorrect');

	let newState='none';

	if (selectedValue===correctAnswer) {
		newState='correct';
		parent.classList.add('correct');

		// Om den INTE var r√§tt innan, men √§r r√§tt nu: +1
		if ( !wasCorrect) {
			updateScore(1);
		}
	}

	else if (selectedValue !=="") {
		newState='incorrect';
		parent.classList.add('incorrect');

		// Om den var r√§tt innan, men nu √§r fel: -1
		if (wasCorrect) {
			updateScore(-1);
		}
	}

	else {

		// Om anv√§ndaren v√§ljer "Select" (tomt)
		if (wasCorrect) {
			updateScore(-1);
		}
	}

	checkAllCorrect();
}


// Updates the score display based on value change.
function updateScore(value) {
	score+=value;

	// H√§mta det faktiska antalet meningar dynamiskt
	const maxScore=sentences.length;

	// F√∂rhindra att po√§ngen g√•r utanf√∂r gr√§nserna (0 till max)
	// Notera: Om du vill till√•ta minuspo√§ng, anv√§nd -maxScore
	if (score > maxScore) {
		score=maxScore;
	}

	else if (score < 0) {
		score=0;
	}

	// Uppdatera alla element med klassen "score-display"
	document.querySelectorAll('.score-display').forEach((element)=> {
			element.textContent=score;
		});

}

// Checks if all sentences are correctly answered.
function checkAllCorrect() {
	const allCorrect=Array.from(document.querySelectorAll('.sentence')).every(sentence=> sentence.classList.contains('correct'));

	if (allCorrect) {
		openModal('congratulationsModal');
	}
}

// Opens a modal by its ID.
function openModal(modalId) {
	const modal=document.getElementById(modalId);

	if (modal) {
		modal.style.display='flex';
		modal.classList.add('show');
	}
}

// Closes a modal by its ID.
function closeModal(modalId) {
	const modal=document.getElementById(modalId);

	if (modal) {
		modal.style.display='none';
		modal.classList.remove('show');
	}
}

// Close modal when clicking outside of the modal content
window.addEventListener('click', (event)=> {
		const infoModal=document.getElementById('infoModal');
		const congratulationsModal=document.getElementById('congratulationsModal');

		if (event.target===infoModal) {
			closeModal('infoModal');
		}

		else if (event.target===congratulationsModal) {
			closeModal('congratulationsModal');
		}
	});

// Function to toggle dark mode
function toggleDarkMode() {
	document.body.classList.toggle('dark-mode');

	const isDarkModeEnabled=document.body.classList.contains('dark-mode');
	localStorage.setItem('darkMode', isDarkModeEnabled ? 'enabled' : 'disabled');
}

function goToMediumVersion() {
	window.location.href="https://learnswedish.github.io/html/adj-def-non-regular-medium.html";
}

function goToHardVersion() {
	window.location.href="https://learnswedish.github.io/html/adj-def-non-regular-hard.html";
}

// Initialize the dark mode toggle with stored preference
function initializeModalsAndDarkMode() {
	const darkModeToggle=document.getElementById('darkModeSwitch');
	const translationToggle=document.getElementById('translationSwitch');

	/* ---- Dark mode ---- */
	const isDarkModeEnabled=localStorage.getItem('darkMode')==='enabled';
	document.body.classList.toggle('dark-mode', isDarkModeEnabled);
	darkModeToggle.checked=isDarkModeEnabled;
	darkModeToggle.addEventListener('change', toggleDarkMode);

	/* ---- Translation mode ---- */
	const isTranslationEnabled=localStorage.getItem('translationMode')==='enabled';
	document.body.classList.toggle('show-translation', isTranslationEnabled);
	translationToggle.checked=isTranslationEnabled;
	translationToggle.addEventListener('change', toggleTranslation);
}

// Function to update the maximum score in the HTML
function updateMaxScore() {
	const maxScore=sentences.length;

	document.querySelectorAll('.score-max').forEach((element)=> {
			element.textContent=maxScore;
		});
}

// Resets the quiz and score, then re-renders sentences.
function startOver() {
	renderSentences();
	resetScore();
	closeModal('congratulationsModal');
}

// Resets the score to zero.
function resetScore() {
	score=0;

	document.querySelectorAll('.score-display').forEach((element)=> {
			element.textContent=score;
		});

	// √Öterst√§ll alla meningars tillst√•nd
	document.querySelectorAll('.sentence').forEach(sentence=> {
			sentence.classList.remove('correct', 'incorrect');
		});
}

// Initialize the application once the DOM is fully loaded.
document.addEventListener('DOMContentLoaded', ()=> {
		const isMobile=window.matchMedia("(max-width: 700px)").matches;

		if (isMobile) return;

		renderSentences();
		updateMaxScore(); // S√§tt maxpo√§ng direkt
		resetScore(); // S√§tt startpo√§ng
		initializeModalsAndDarkMode(); // Init toggles sist
	});
</script>

</body>

</html>
