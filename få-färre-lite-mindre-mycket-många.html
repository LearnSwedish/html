<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>√ñvning: mindre, f√§rre, lite, f√•, mycket, m√•nga</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f5f6fa;
      --card: #ffffff;
      --text: #2c3e50;
      --muted: #7f8c8d;
      --accent: #3498db;
      --success-bg: #e9f7ef;
      --success-border: #2ecc71;
      --error-bg: #fdecea;
      --error-border: #e74c3c;
    }
    body.dark-mode {
      --bg: #1e1e1e;
      --card: #2c2c2c;
      --text: #eaeaea;
      --muted: #b0b0b0;
      --accent: #9b59b6;
      --success-bg: #1f3d2a;
      --success-border: #27ae60;
      --error-bg: #3d1f1f;
      --error-border: #e74c3c;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      padding: 20px;
      transition: background 0.3s, color 0.3s;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    header h1 { font-size: 1.6rem; font-weight: 700; margin: 0; }
    #score {
      background: var(--accent);
      color: #fff;
      padding: 6px 14px;
      border-radius: 20px;
      font-weight: 600;
      font-size: 0.9rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    #exercises { max-width: 700px; margin: 0 auto; }
    .exercise {
      background: var(--card);
      padding: 18px;
      margin-bottom: 15px;
      border-radius: 12px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);
      transition: background-color 0.3s, border 0.3s;
    }
    .exercise label { font-weight: 500; }
    select {
      padding: 6px 8px;
      margin: 0 4px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1rem;
      background: #fff;
    }
    select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
    }
    .correct { background-color: var(--success-bg); border: 1px solid var(--success-border); }
    .incorrect { background-color: var(--error-bg); border: 1px solid var(--error-border); }
    .actions { text-align: center; margin-top: 25px; }
    .btn {
      background: var(--accent); color: #fff; border: none;
      border-radius: 8px; padding: 10px 20px;
      font-size: 1rem; font-weight: 600; cursor: pointer;
      transition: background 0.3s;
    }
    .btn:hover { background: #2980b9; }
    /* Staplar */
    .bar-container {
      background: #e0e0e0;
      border-radius: 8px;
      overflow: hidden;
      height: 14px;
    }
    .bar-fill { background: var(--accent); height: 100%; transition: width 0.3s ease; }
    .bar-group { margin-top: 14px; }
    .bar-label { width: 100px; text-align: right; font-size: 14px; }
    .bar-wrapper { margin-top: 14px; }
    /* Floating controls */
    .floating-controls {
      position: fixed;
      top: 15px;
      right: 15px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 1000;
    }
    .theme-toggle {
      display: flex;
      align-items: center;
      gap: 10px;
      background: var(--card);
      padding: 6px 12px;
      border-radius: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    .switch {
      position: relative; display: inline-block;
      width: 46px; height: 24px;
    }
    .switch input { opacity: 0; width: 0; height: 0; }
    .slider {
      position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
      background-color: #ccc; transition: .4s; border-radius: 24px;
    }
    .slider:before {
      position: absolute; content: "";
      height: 18px; width: 18px;
      left: 3px; bottom: 3px;
      background-color: white;
      transition: .4s; border-radius: 50%;
    }
    input:checked + .slider { background-color: var(--accent); }
    input:checked + .slider:before { transform: translateX(22px); }
    #infoBtn { background: #2ecc71; }
    #infoBtn:hover { background: #27ae60; }
    /* Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0; top: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      justify-content: center; align-items: center;
      padding: 20px;
    }
.modal-content {
  background: var(--card);
  color: var(--text);
  padding: 20px 30px;
  border-radius: 12px;
  max-width: 600px; width: 100%;
  position: relative;
  animation: zoomIn 0.4s ease;
}
@keyframes zoomIn {
  0%   { opacity: 0; transform: scale(0.7); }
  60%  { opacity: 1; transform: scale(1.05); }
  100% { opacity: 1; transform: scale(1); }
}
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
.close {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 32px;
  height: 32px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.4s ease;
}

.close:before,
.close:after {
  content: "";
  position: absolute;
  width: 24px;
  height: 3px;
  background-color: var(--text);
  border-radius: 2px;
  transition: transform 0.4s ease, opacity 0.3s ease;
}

.close:before {
  transform: rotate(45deg);
}
.close:after {
  transform: rotate(-45deg);
}

/* N√§r man hovrar snurrar hela krysset */
.close:hover {
  transform: rotate(180deg);
}

  </style>
</head>
<body>
  <div class="floating-controls">
    <div class="theme-toggle">
      <span>Tema</span>
      <label class="switch">
        <input type="checkbox" id="themeSwitch">
        <span class="slider"></span>
      </label>
    </div>
    <button id="infoBtn" class="btn" onclick="openModal()">Info</button>
  </div>

  <header>
    <h1>V√§lj r√§tt ord</h1>
    <div><span id="score">R√§tt: 0 / 30</span></div>
  </header>

  <div id="exercises"></div>

  <div class="actions"><button class="btn" onclick="restart()">Starta om √∂vningen</button></div>

  <!-- Modal -->
  <div id="infoModal" class="modal" onclick="outsideClick(event)">
    <div class="modal-content">
      <div class="close" onclick="closeModal()"></div>
      <h2>Information</h2>
      <p>üìå <b>Mindre</b> (m√§ngd/grad ‚Äì ej r√§knebart ‚Äì "f√∂re > nu")</p>
      <p>Jag har mindre <strong><u>tid</u></strong> idag √§n ig√•r.</p><br/>
      <p>üìå <b>F√§rre</b> (antal ‚Äì r√§knebart ‚Äì "f√∂re > nu"</p>
      <p>Det kom f√§rre <strong><u>personer</u></strong> till m√∂tet √§n f√∂rra g√•ngen.</p><br/>
      <p>üìå <b>Lite</b> (m√§ngd ‚Äì ej r√§knebart ‚Äì "n√§stan slut")</p>
      <p>Det √§r bara lite <strong><u>socker</u></strong> kvar i burken.</p><br/>
      <p>üìå <b>F√•</b> (antal ‚Äì r√§knebart ‚Äì "n√§stan inga")</p>
      <p>Det finns f√• <strong><u>stolar</u></strong> i rummet.</p><br/>
      <p>üìå <b>Mycket</b> (m√§ngd ‚Äì ej r√§knebart ‚Äì "stor m√§ngd")</p>
      <p>Det √§r mycket <strong><u>vatten</u></strong> i sj√∂n.</p><br/>
      <p>üìå <b>M√•nga</b> (antal ‚Äì r√§knebart ‚Äì "stort antal")</p>
      <p>Det √§r m√•nga <strong><u>barn</u></strong> p√• lekplatsen.</p>
    </div>
  </div>

  <script>
    const options = ["V√§lj svar","mindre","f√§rre","lite","f√•","mycket","m√•nga"];
    const exercises = [
      {text: "Jag har ___ tid idag √§n ig√•r.", answer: "mindre"},
      {text: "Vi beh√∂ver anv√§nda ___ mj√∂lk i degen.", answer: "mindre"},
      {text: "Hon fick ___ l√∂n √§n sin kollega.", answer: "mindre"},
      {text: "Efter renoveringen blev det ___ utrymme i k√∂ket.", answer: "mindre"},
      {text: "Han har ___ ork p√• kv√§llen.", answer: "mindre"},
      {text: "Det kom ___ personer till m√∂tet √§n f√∂rra g√•ngen.", answer: "f√§rre"},
      {text: "Idag k√∂rde ___ bilar p√• v√§gen.", answer: "f√§rre"},
      {text: "Hon har ___ v√§nner √§n sin bror.", answer: "f√§rre"},
      {text: "L√§raren gav ___ uppgifter den h√§r veckan.", answer: "f√§rre"},
      {text: "Det finns ___ f√•glar h√§r p√• vintern.", answer: "f√§rre"},
      {text: "Det √§r bara ___ socker kvar i burken.", answer: "lite"},
      {text: "Han har ___ energi p√• morgonen.", answer: "lite"},
      {text: "Vi har ___ tid f√∂re t√•get g√•r.", answer: "lite"},
      {text: "Det finns ___ sm√∂r i kylen.", answer: "lite"},
      {text: "Hon pratar ___ svenska.", answer: "lite"},
      {text: "Det finns ___ stolar i rummet.", answer: "f√•"},
      {text: "Han har ___ syskon.", answer: "f√•"},
      {text: "Vi s√•g ___ turister i staden.", answer: "f√•"},
      {text: "Det var ___ fel p√• provet.", answer: "f√•"},
      {text: "Hon k√§nner ___ personer h√§r.", answer: "f√•"},
      {text: "Det √§r ___ vatten i sj√∂n.", answer: "mycket"},
      {text: "Hon har ___ erfarenhet.", answer: "mycket"},
      {text: "Vi fick ___ information p√• kursen.", answer: "mycket"},
      {text: "Det √§r ___ sn√∂ i fj√§llen.", answer: "mycket"},
      {text: "Han har ___ pengar p√• banken.", answer: "mycket"},
      {text: "Det √§r ___ barn p√• lekplatsen.", answer: "m√•nga"},
      {text: "Vi har ___ b√∂cker i hyllan.", answer: "m√•nga"},
      {text: "Det fanns ___ fel i texten.", answer: "m√•nga"},
      {text: "Hon k√§nner ___ m√§nniskor i staden.", answer: "m√•nga"},
      {text: "Det kom ___ g√§ster till festen.", answer: "m√•nga"}
    ];

    const barLabels = {
      "Han har ___ ork p√• kv√§llen.": ["P√• dagen","P√• kv√§llen"],
      "Det kom ___ personer till m√∂tet √§n f√∂rra g√•ngen.": ["F√∂rra g√•ngen","M√∂tet idag"],
      "Efter renoveringen blev det ___ utrymme i k√∂ket.": ["F√∂re","Efter"],
      "Jag har ___ tid idag √§n ig√•r.": ["Ig√•r","Idag"],
      "Hon fick ___ l√∂n √§n sin kollega.": ["Kollega","Hon"],
      "Det finns ___ f√•glar h√§r p√• vintern.": ["Inte vinter","Vinter"],
      "L√§raren gav ___ uppgifter den h√§r veckan.": ["F√∂rra veckan","Denna vecka"],
      "Idag k√∂rde ___ bilar p√• v√§gen.": ["Ig√•r","Idag"],
      "Vi beh√∂ver anv√§nda ___ mj√∂lk i degen.": ["F√∂r mycket","R√§tt m√§ngd"],
      "Hon har ___ v√§nner √§n sin bror.": ["Han","Hon"]
    };

    const labelMap = {
      "Det var ___ fel p√• provet.": "Fel",
      "Vi fick ___ information p√• kursen.": "Information",
      "Det finns ___ stolar i rummet.": "Stolar",
      "Det finns ___ sm√∂r i kylen.": "Sm√∂r",
      "Han har ___ pengar p√• banken.": "Pengar",
      "Det √§r ___ barn p√• lekplatsen.": "Barn",
      "Vi har ___ b√∂cker i hyllan.": "B√∂cker",
      "Det fanns ___ fel i texten.": "Fel",
      "Hon k√§nner ___ m√§nniskor i staden.": "M√§nniskor",
      "Det kom ___ g√§ster till festen.": "G√§ster",
      "Det √§r ___ vatten i sj√∂n.": "Vatten",
      "Hon har ___ erfarenhet.": "Erfarenhet",
      "Det √§r ___ sn√∂ i fj√§llen.": "Sn√∂",
      "Han har ___ syskon.": "Syskon",
      "Vi s√•g ___ turister i staden.": "Turister",
      "Hon pratar ___ svenska.": "Svenska",
      "Han har ___ energi p√• morgonen.": "Energi",
      "Vi har ___ tid f√∂re t√•get g√•r.": "Tid",
      "Det √§r bara ___ socker kvar i burken.": "Socker"
    };

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    let shuffled = [];
    function render() {
      const container = document.getElementById("exercises");
      container.innerHTML = "";
      shuffled = shuffle([...exercises]);
      shuffled.forEach((ex, i) => {
        const div = document.createElement("div");
        div.className = "exercise";

        let barHTML = "";
        if(ex.answer === "m√•nga" || ex.answer === "mycket"){
          const lbl = labelMap[ex.text] || "";
          barHTML = `<div class="bar-wrapper"><div style="display:flex;align-items:center;gap:8px;">
              <span class="bar-label">${lbl}</span>
              <div class="bar-container" style="flex:1;"><div class="bar-fill" style="width:90%"></div></div>
            </div></div>`;
        } else if(ex.answer === "lite" || ex.answer === "f√•"){
          const lbl = labelMap[ex.text] || "";
          barHTML = `<div class="bar-wrapper"><div style="display:flex;align-items:center;gap:8px;">
              <span class="bar-label">${lbl}</span>
              <div class="bar-container" style="flex:1;"><div class="bar-fill" style="width:10%"></div></div>
            </div></div>`;
        } else if(ex.answer === "mindre" || ex.answer === "f√§rre"){
          const labels = barLabels[ex.text];
          if(labels){
            barHTML = `<div class="bar-wrapper"><div class="bar-group">
                <div style="display:flex;align-items:center;gap:8px;">
                  <span class="bar-label">${labels[0]}</span>
                  <div class="bar-container" style="flex:1;"><div class="bar-fill" style="width:50%"></div></div>
                </div>
                <div style="display:flex;align-items:center;gap:8px;margin-top:4px;">
                  <span class="bar-label">${labels[1]}</span>
                  <div class="bar-container" style="flex:1;"><div class="bar-fill" style="width:40%"></div></div>
                </div>
              </div></div>`;
          }
        }

        div.innerHTML = `<label>${i+1}. ${ex.text.replace("___",
          `<select id="q${i}" onchange="checkOne(${i})">
            ${options.map(o=>`<option value="${o}">${o}</option>`).join("")}
          </select>`)}
        </label>
        ${barHTML}`;
        container.appendChild(div);
      });
      updateScore();
    }

    function checkOne(i){
      const ex = shuffled[i];
      const val = document.getElementById("q"+i).value;
      const div = document.getElementById("q"+i).closest(".exercise");
      div.classList.remove("correct","incorrect");

      if(val === "V√§lj svar"){ return; }
      if(val === ex.answer){ div.classList.add("correct"); }
      else { div.classList.add("incorrect"); }
      updateScore();
    }

    function updateScore(){
      let count = 0;
      shuffled.forEach((ex,i)=>{
        const val = document.getElementById("q"+i).value;
        if(val === ex.answer){ count++; }
      });
      document.getElementById("score").textContent = `R√§tt: ${count} / ${shuffled.length}`;
    }

    function restart(){ render(); }

    // Modal
    function openModal(){ document.getElementById("infoModal").style.display = "flex"; }
    function closeModal(){ document.getElementById("infoModal").style.display = "none"; }
    function outsideClick(event){ if(event.target.classList.contains("modal")){ closeModal(); } }

    // Dark mode toggle
    document.getElementById("themeSwitch").addEventListener("change", function(){
      document.body.classList.toggle("dark-mode", this.checked);
    });

    // f√∂rsta laddning
    render();
  </script>
</body>
</html>
