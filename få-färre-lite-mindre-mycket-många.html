<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Övning: mindre, färre, lite, få, mycket, många</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f5f6fa;
      --card: #ffffff;
      --text: #2c3e50;
      --muted: #7f8c8d;
      --accent: #3498db;
      --success-bg: #e9f7ef;
      --success-border: #2ecc71;
      --error-bg: #fdecea;
      --error-border: #e74c3c;
    }

    body.dark-mode {
      --bg: #1e1e1e;
      --card: #2c2c2c;
      --text: #eaeaea;
      --muted: #b0b0b0;
      --accent: #9b59b6;
      --success-bg: #1f3d2a;
      --success-border: #27ae60;
      --error-bg: #3d1f1f;
      --error-border: #e74c3c;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      padding: 20px;
      transition: background 0.3s, color 0.3s;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    header h1 {
      font-size: 1.6rem;
      font-weight: 700;
      margin: 0;
    }
    #score {
      background: var(--accent);
      color: #fff;
      padding: 6px 14px;
      border-radius: 20px;
      font-weight: 600;
      font-size: 0.9rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    #exercises {
      max-width: 700px;
      margin: 0 auto;
    }
    .exercise {
      background: var(--card);
      padding: 18px;
      margin-bottom: 15px;
      border-radius: 12px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);
      transition: background-color 0.3s, border 0.3s;
    }
    .exercise label {
      font-weight: 500;
    }
    select {
      padding: 6px 8px;
      margin: 0 4px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1rem;
      background: #fff;
    }
    select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
    }
    .correct {
      background-color: var(--success-bg);
      border: 1px solid var(--success-border);
    }
    .incorrect {
      background-color: var(--error-bg);
      border: 1px solid var(--error-border);
    }
    .actions {
      text-align: center;
      margin-top: 25px;
    }
    .btn {
      background: var(--accent);
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 10px 20px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
    }
    .btn:hover {
      background: #2980b9;
    }
    /* Staplar */
    .bar-container {
      background: #e0e0e0;
      border-radius: 8px;
      overflow: hidden;
      height: 14px;
    }
	.bar-wrapper {
	  margin-top: 15px;  /* ger luft mellan meningen och stapeln */
	}
    .bar-fill {
      background: var(--accent);
      height: 100%;
      transition: width 0.3s ease;
    }
    .bar-group {
      margin-top: 10px;
    }
    .bar-label {
      width: 100px;
      text-align: right;
      font-size: 14px;
    }

    /* Dark mode toggle (floating) */
    .theme-toggle {
      position: fixed;
      top: 15px;
      right: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
      z-index: 1000;
      background: var(--card);
      padding: 6px 12px;
      border-radius: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    .switch {
      position: relative;
      display: inline-block;
      width: 46px;
      height: 24px;
    }
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0; left: 0; right: 0; bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 24px;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }
    input:checked + .slider {
      background-color: var(--accent);
    }
    input:checked + .slider:before {
      transform: translateX(22px);
    }
  </style>
</head>
<body>
  <div class="theme-toggle">
    <span>Tema</span>
    <label class="switch">
      <input type="checkbox" id="themeSwitch">
      <span class="slider"></span>
    </label>
  </div>

  <header>
    <h1>Välj rätt ord</h1>
    <div>
      <span id="score">Rätt: 0 / 30</span>
    </div>
  </header>

  <div id="exercises"></div>

  <div class="actions">
    <button class="btn" onclick="restart()">Starta om övningen</button>
  </div>

  <script>
    const options = ["Välj svar","mindre","färre","lite","få","mycket","många"];

    const exercises = [
      {text: "Jag har ___ tid idag än igår.", answer: "mindre"},
      {text: "Vi behöver använda ___ mjölk i degen.", answer: "mindre"},
      {text: "Hon fick ___ lön än sin kollega.", answer: "mindre"},
      {text: "Efter renoveringen blev det ___ utrymme i köket.", answer: "mindre"},
      {text: "Han har ___ ork på kvällen.", answer: "mindre"},
      {text: "Det kom ___ personer till mötet än förra gången.", answer: "färre"},
      {text: "Idag körde ___ bilar på vägen.", answer: "färre"},
      {text: "Hon har ___ vänner än sin bror.", answer: "färre"},
      {text: "Läraren gav ___ uppgifter den här veckan.", answer: "färre"},
      {text: "Det finns ___ fåglar här på vintern.", answer: "färre"},
      {text: "Det är bara ___ socker kvar i burken.", answer: "lite"},
      {text: "Han har ___ energi på morgonen.", answer: "lite"},
      {text: "Vi har ___ tid före tåget går.", answer: "lite"},
      {text: "Det finns ___ smör i kylen.", answer: "lite"},
      {text: "Hon pratar ___ svenska.", answer: "lite"},
      {text: "Det finns ___ stolar i rummet.", answer: "få"},
      {text: "Han har ___ syskon.", answer: "få"},
      {text: "Vi såg ___ turister i staden.", answer: "få"},
      {text: "Det var ___ fel på provet.", answer: "få"},
      {text: "Hon känner ___ personer här.", answer: "få"},
      {text: "Det är ___ vatten i sjön.", answer: "mycket"},
      {text: "Hon har ___ erfarenhet.", answer: "mycket"},
      {text: "Vi fick ___ information på kursen.", answer: "mycket"},
      {text: "Det är ___ snö i fjällen.", answer: "mycket"},
      {text: "Han har ___ pengar på banken.", answer: "mycket"},
      {text: "Det är ___ barn på lekplatsen.", answer: "många"},
      {text: "Vi har ___ böcker i hyllan.", answer: "många"},
      {text: "Det fanns ___ fel i texten.", answer: "många"},
      {text: "Hon känner ___ människor i staden.", answer: "många"},
      {text: "Det kom ___ gäster till festen.", answer: "många"}
    ];

    const barLabels = {
      "Han har ___ ork på kvällen.": ["På dagen", "På kvällen"],
      "Det kom ___ personer till mötet än förra gången.": ["Förra gången", "Mötet idag"],
      "Efter renoveringen blev det ___ utrymme i köket.": ["Före", "Efter"],
      "Jag har ___ tid idag än igår.": ["Igår", "Idag"],
      "Hon fick ___ lön än sin kollega.": ["Kollega", "Hon"],
      "Det finns ___ fåglar här på vintern.": ["Inte vinter", "Vinter"],
      "Läraren gav ___ uppgifter den här veckan.": ["Förra veckan", "Denna vecka"],
      "Idag körde ___ bilar på vägen.": ["Igår", "Idag"],
      "Vi behöver använda ___ mjölk i degen.": ["För mycket", "Rätt mängd"],
      "Hon har ___ vänner än sin bror.": ["Han", "Hon"]
    };

    const labelMap = {
      "Det var ___ fel på provet.": "Fel",
      "Vi fick ___ information på kursen.": "Information",
      "Det finns ___ stolar i rummet.": "Stolar",
      "Det finns ___ smör i kylen.": "Smör",
      "Han har ___ pengar på banken.": "Pengar",
      "Det är ___ barn på lekplatsen.": "Barn",
      "Vi har ___ böcker i hyllan.": "Böcker",
      "Det fanns ___ fel i texten.": "Fel",
      "Hon känner ___ människor i staden.": "Människor",
      "Det kom ___ gäster till festen.": "Gäster",
      "Det är ___ vatten i sjön.": "Vatten",
      "Hon har ___ erfarenhet.": "Erfarenhet",
      "Det är ___ snö i fjällen.": "Snö",
      "Han har ___ syskon.": "Syskon",
      "Vi såg ___ turister i staden.": "Turister",
      "Hon pratar ___ svenska.": "Svenska",
      "Han har ___ energi på morgonen.": "Energi",
      "Vi har ___ tid före tåget går.": "Tid",
      "Det är bara ___ socker kvar i burken.": "Socker"
    };

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    let shuffled = [];
    function render() {
      const container = document.getElementById("exercises");
      container.innerHTML = "";
      shuffled = shuffle([...exercises]);

      shuffled.forEach((ex, i) => {
        const div = document.createElement("div");
        div.className = "exercise";

        let barHTML = "";
        if(ex.answer === "många" || ex.answer === "mycket"){
          const lbl = labelMap[ex.text] || "";
          barHTML = `
            <div class="bar-wrapper" style="display:flex;align-items:center;gap:8px;">
              <span class="bar-label">${lbl}</span>
              <div class="bar-container" style="flex:1;"><div class="bar-fill" style="width:90%"></div></div>
            </div>`;
        } else if(ex.answer === "lite" || ex.answer === "få"){
          const lbl = labelMap[ex.text] || "";
          barHTML = `
            <div class="bar-wrapper" style="display:flex;align-items:center;gap:8px;">
              <span class="bar-label">${lbl}</span>
              <div class="bar-container" style="flex:1;"><div class="bar-fill" style="width:10%"></div></div>
            </div>`;
        } else if(ex.answer === "mindre" || ex.answer === "färre"){
          const labels = barLabels[ex.text];
          if(labels){
            barHTML = `
              <div class="bar-group bar-wrapper">
                <div style="display:flex;align-items:center;gap:8px;">
                  <span class="bar-label">${labels[0]}</span>
                  <div class="bar-container" style="flex:1;"><div class="bar-fill" style="width:50%"></div></div>
                </div>
                <div style="display:flex;align-items:center;gap:8px;margin-top:4px;">
                  <span class="bar-label">${labels[1]}</span>
                  <div class="bar-container" style="flex:1;"><div class="bar-fill" style="width:40%"></div></div>
                </div>
              </div>`;
          }
        }

        div.innerHTML = `
          <label>${i+1}. ${ex.text.replace("___",
            `<select id="q${i}" onchange="checkOne(${i})">
              ${options.map(o=>`<option value="${o}">${o}</option>`).join("")}
            </select>`)}
          </label>
          ${barHTML}
        `;
        container.appendChild(div);
      });
      updateScore();
    }

    function checkOne(i){
      const ex = shuffled[i];
      const val = document.getElementById("q"+i).value;
      const div = document.getElementById("q"+i).closest(".exercise");
      div.classList.remove("correct","incorrect");

      if(val === "Välj svar"){ return; }
      if(val === ex.answer){
        div.classList.add("correct");
      } else {
        div.classList.add("incorrect");
      }
      updateScore();
    }

    function updateScore(){
      let count = 0;
      shuffled.forEach((ex,i)=>{
        const val = document.getElementById("q"+i).value;
        if(val === ex.answer){ count++; }
      });
      document.getElementById("score").textContent = `Rätt: ${count} / ${shuffled.length}`;
    }

    function restart(){
      render();
    }

    // Dark mode toggle
    document.getElementById("themeSwitch").addEventListener("change", function(){
      document.body.classList.toggle("dark-mode", this.checked);
    });

    // första laddning
    render();
  </script>
</body>
</html>
