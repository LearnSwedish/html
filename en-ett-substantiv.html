<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indefinite article agreement</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f8f9fa;
        }

        .page-wrapper {
            width: 1000px;
            padding: 40px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
			box-sizing: border-box;
        }

        .text-content {
            margin-bottom: 40px;
            text-align: center;
        }

        h1 {
            color: #2c5d7d;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .main-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 25px;
            padding: 20px;
        }

        .picker-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .viewport {
            height: 250px;
            overflow: hidden;
            width: 160px;
            border: 1px solid #ddd;
            background: #fff;
            position: relative;
            margin: 10px 0;
            border-radius: 8px;
        }

        .focus-frame {
            position: absolute;
            top: 100px;
            left: 0;
            width: 100%;
            height: 50px;
            border-top: 2px solid #2c5d7d;
            border-bottom: 2px solid #2c5d7d;
            pointer-events: none;
            z-index: 10;
        }

        .scroll-list {
            transition: transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .item {
            height: 50px;
            line-height: 50px;
            font-size: 18px;
            color: #bbb;
            transition: color 0.3s, font-weight 0.3s;
        }

        .item.active {
            color: #333;
            font-weight: bold;
            font-size: 22px;
        }

        .arrow-btn {
            background: #2c5d7d;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .arrow-btn:disabled {
            background: #eee;
            color: #ccc;
            cursor: not-allowed;
        }

        .arrow-btn:hover:not(:disabled) {
            background: #1e4158;
            transform: scale(1.1);
        }

        .translation-box {
            font-size: 28px;
            font-weight: 700;
            color: #2c5d7d;
            min-width: 300px;
            border-bottom: 3px solid #eee;
            padding-bottom: 10px;
            text-align: center;
            margin-left: 20px;
        }

        .error { color: #d9534f; }
    </style>
</head>
<body>

<div class="page-wrapper">
    <div class="text-content">
        <h1>Indefinite [article + noun] agreement</h1>
        <p class="ingress">
            Swedish has two genders: <strong>en (common)</strong> and <strong>ett (neuter)</strong>. A phrase like 'a child' is either<br />'en barn' or 'ett barn' — only one is correct, while the other is ungrammatical.
        </p>
    </div>

    <div class="main-container">
        <div class="picker-container">
            <button id="art-up" class="arrow-btn" onclick="move('art', 1)">▲</button>
            <div class="viewport">
                <div class="focus-frame"></div>
                <div id="art-list" class="scroll-list"></div>
            </div>
            <button id="art-down" class="arrow-btn" onclick="move('art', -1)">▼</button>
        </div>

        <div class="picker-container">
            <button id="noun-up" class="arrow-btn" onclick="move('noun', 1)">▲</button>
            <div class="viewport">
                <div class="focus-frame"></div>
                <div id="noun-list" class="scroll-list"></div>
            </div>
            <button id="noun-down" class="arrow-btn" onclick="move('noun', -1)">▼</button>
        </div>

        <div class="translation-box" id="result-display">a car</div>
    </div>
</div>

<script>
    const articles = ["en", "ett"];
    const nouns = [
        { sw: "träd", gen: "ett", be: "a tree" },
        { sw: "man", gen: "en", be: "a man" },
        { sw: "hus", gen: "ett", be: "a house" },
        { sw: "bil", gen: "en", be: "a car" },
        { sw: "barn", gen: "ett", be: "a child" },
        { sw: "hav", gen: "ett", be: "a sea" },
        { sw: "arm", gen: "en", be: "an arm" }
    ];

    let artPos = 0;
    let nounPos = 3; 

    function init() {
        renderList('art-list', articles.map(a => ({sw: a})));
        renderList('noun-list', nouns);
        updateUI();
    }

    function renderList(id, data) {
        const container = document.getElementById(id);
        data.forEach(item => {
            const div = document.createElement('div');
            div.className = 'item';
            div.innerText = item.sw;
            container.appendChild(div);
        });
    }

    function move(type, dir) {
        if (type === 'art') {
            const nextPos = artPos + dir;
            if (nextPos >= 0 && nextPos < articles.length) {
                artPos = nextPos;
            }
        } else {
            const nextPos = nounPos + dir;
            if (nextPos >= 0 && nextPos < nouns.length) {
                nounPos = nextPos;
            }
        }
        updateUI();
    }

function updateUI() {
        document.getElementById('art-list').style.transform = `translateY(${100 - (artPos * 50)}px)`;
        document.getElementById('noun-list').style.transform = `translateY(${100 - (nounPos * 50)}px)`;

        // UP-knapparna inaktiveras vid slutet av listan
        document.getElementById('art-up').disabled = (artPos === articles.length - 1);
        document.getElementById('noun-up').disabled = (nounPos === nouns.length - 1);

        // DOWN-knapparna inaktiveras vid början av listan (index 0)
        document.getElementById('art-down').disabled = (artPos === 0);
        document.getElementById('noun-down').disabled = (nounPos === 0);

        updateActiveClass('art-list', artPos);
        updateActiveClass('noun-list', nounPos);

        const selectedArt = articles[artPos];
        const selectedNoun = nouns[nounPos];
        const display = document.getElementById('result-display');

        if (selectedArt === selectedNoun.gen) {
            display.innerText = selectedNoun.be;
            display.classList.remove('error');
        } else {
            display.innerText = "???";
            display.classList.add('error');
        }
    }

    function updateActiveClass(id, pos) {
        const items = document.getElementById(id).children;
        for(let i=0; i<items.length; i++) {
            items[i].classList.toggle('active', i === pos);
        }
    }

    init();
</script>

</body>
</html>
