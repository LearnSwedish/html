<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Seasons – training area</title>
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

<style>
  /* === Baslayout === */
  body {
    font-family: 'Work Sans', sans-serif;
    text-align: center;
    margin: 50px;
  }

  /* === Bildcontainer & markör === */
  .image-container {
    position: relative;
    display: block;
    max-width: 80%;
    margin: 40px auto;
  }

  .season-image {
    width: 100%;
    height: auto;
  }

  .marker {
    position: absolute;
    bottom: -60px;
    width: 50px;
    height: auto;
    transform: translateX(-50%);
    transition: left 0.8s ease;
    z-index: 2;
  }

.eye-wrapper {
  position: absolute;
  margin-top: 80px;
  transform: translateX(-50%);
  z-index: 2;
}


.eye-icon {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  font-size: 36px;
  color: #555;
  cursor: pointer;
  transition: color 0.3s;
  width: 40px;
  height: 40px;
  line-height: 36px;
  text-align: center;
}

.eye-icon.fa-eye {
  color: #0077cc; /* Blå färg för öppet öga */
}

.eye-icon:hover {
  color: yellow;
}


.icon-wrapper {
  position: relative;
  width: 40px;
  height: 70px; /* utrymme för öga + översättning */
}

.icon-wrapper i {
  font-size: 26px;
  cursor: pointer;
  color: #777;
}

.icon-wrapper i:hover {
  color: #000;
}

.icon-wrapper i.fa-eye {
  color: #0077cc;
}

.translation {
  position: absolute;
  top: 35px; /* lägg texten direkt under ögat */
  left: 50%;
  transform: translateX(-50%);
  width: max-content;
  max-width: 165px;
  font-size: 15px;
  color: #555;
  font-style: italic;
  text-align: center;
  white-space: normal;
  line-height: 1.2;
  z-index: 1;
}

.red-text {
  color: darkred;
}

.swedish-term {
  color: black;
  font-size: 18px;
  font-weight: bold;
  font-style: normal; /* not italic */
}

  /* === Exempelutskrift === */
#example-output {
  position: relative;   /* istället för margin-top */
  top: 160px;           /* justera efter behov */
  margin-left: auto;
  margin-right: auto;
  max-width: 1000px;
  max-height: 4.5em;
  font-size: 25px;
  font-family: 'Work Sans', sans-serif;
  opacity: 0;
  transition: opacity 0.5s ease;
  min-height: 2em;
}

  #example-output.visible {
    opacity: 1;
  }

  /* === Overlay-knapp uppe till höger === */
  #statusOverlay {
    position: fixed;
    top: 20px;
    right: 30px;
    text-align: right;
    background-color: rgba(255, 255, 255, 0.85);
    padding: 8px 15px 12px 15px;
    border-radius: 12px;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.15);
    font-size: 16px;
    z-index: 10;
  }

  #statusOverlay button {
    margin-top: 6px;
    font-size: 14px;
    padding: 6px 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    background-color: #f7f7f7;
    cursor: pointer;
  }

  /* === Specialmeddelande === */
  .special-message {
    color: darkred;
    font-size: 20px;
    margin-top: 20px;
  }
</style>

</head>
<body>

<div id="statusOverlay">
  <button onclick="window.open('https://learnswedish.github.io/html/seasons-exercise.html', '_blank')">Exercise area</button>
</div>

<div class="image-container">
  <img src="https://i.imgur.com/9nZ3ejZ.png" alt="Årstider" class="season-image" id="seasonImage">
  <img src="https://i.imgur.com/gSypQZw.png" alt="Markör" class="marker" id="marker">

  <!-- Ögonikoner direkt inuti image-container -->
<div class="eye-wrapper" style="left: 5.5%;">
	<div class="icon-wrapper">
	<i class="fas fa-eye-slash eye-icon" onclick="moveTo('förra våren', this)"></i>
	<span class="translation"></span>
	</div>
</div>

<div class="eye-wrapper" style="left: 15.5%;">
	<div class="icon-wrapper">
	<i class="fas fa-eye-slash eye-icon" onclick="moveTo('förra sommaren', this)"></i>
	<span class="translation"></span>
    </div>
</div>

<div class="eye-wrapper" style="left: 24.3%;">
	<div class="icon-wrapper">
	<i class="fas fa-eye-slash eye-icon" onclick="moveTo('i höstas', this)"></i>
	<span class="translation"></span>
    </div>
</div>

<div class="eye-wrapper" style="left: 35%;">
	<div class="icon-wrapper">
	<i class="fas fa-eye-slash eye-icon" onclick="moveTo('i vintras', this)"></i>
	<span class="translation"></span>
    </div>
</div>

<div class="eye-wrapper" style="left: 45%;">
	<div class="icon-wrapper">
	<i class="fas fa-eye-slash eye-icon" onclick="moveTo('i våras', this)"></i>
	<span class="translation"></span>
    </div>
</div>

<div class="eye-wrapper" style="left: 55%;">
	<div class="icon-wrapper">
	<i class="fas fa-eye-slash eye-icon" onclick="moveTo('i sommar', this)"></i>
	<span class="translation"></span>
    </div>
</div>

<div class="eye-wrapper" style="left: 64%;">
	<div class="icon-wrapper">
	<i class="fas fa-eye-slash eye-icon" onclick="moveTo('i höst', this)"></i>
	<span class="translation"></span>
    </div>
</div>

<div class="eye-wrapper" style="left: 74.8%;">
	<div class="icon-wrapper">
	<i class="fas fa-eye-slash eye-icon" onclick="moveTo('i vinter', this)"></i>
	<span class="translation"></span>
    </div>
</div>

<div class="eye-wrapper" style="left: 84.8%;">
	<div class="icon-wrapper">
	<i class="fas fa-eye-slash eye-icon" onclick="moveTo('i vår', this)"></i>
	<span class="translation"></span>
    </div>
</div>

<div class="eye-wrapper" style="left: 94.7%;">
	<div class="icon-wrapper">
	<i class="fas fa-eye-slash eye-icon" onclick="moveTo('nästa sommar', this)"></i>
	<span class="translation"></span>
    </div>
</div>

</div>



  <div id="example-output"></div>

<script>
  // Placera markören i procent längs bilden
  const seasonPositions = {
    'förra våren': 5.5,
    'förra sommaren': 15.5,
    'i höstas': 24.3,
    'i vintras': 35,
    'i våras': 45,
    'i sommar': 55,
    'i höst': 64,
    'i vinter': 74.8,
    'i vår': 84.8,
    'nästa vår': 84.8,
    'nästa sommar': 94.7,
    'start': 55  // nyckel för init-position
  };

const englishTranslations = {
  'förra våren': '<span class="swedish-term">Förra våren</span><br>(Two springs ago)',
  'förra sommaren': '<span class="swedish-term">Förra sommaren</span><br>(Last summer)',
  'i höstas': '<span class="swedish-term">I höstas</span><br>(Last autumn)',
  'i vintras': '<span class="swedish-term">I vintras</span><br>(Last winter)',
  'i våras': '<span class="swedish-term">I våras</span><br>(Last spring)',
  'i sommar': '<span class="swedish-term">I sommar</span><br>(This summer)',
  'i höst': '<span class="swedish-term">I höst</span><br>(This autumn)',
  'i vinter': '<span class="swedish-term">I vinter</span><br>(This winter)',
  'i vår': '<span class="swedish-term">I vår</span><br>(This spring)',
  'nästa sommar': '<span class="swedish-term">Nästa sommar</span><br>(Next summer)'
};

  const exampleSentences = {
    'förra våren': [
      "Förra våren reste vi till Italien.",
      "Jag började ett nytt jobb förra våren.",
      "Förra våren blommade körsbärsträden extra tidigt.",
      "Vi hade en väldigt mild vinter innan förra våren.",
      "Det var ovanligt många soliga dagar förra våren."
    ],
    'förra sommaren': [
      "Vi badade varje dag förra sommaren.",
      "Förra sommaren var den varmaste på flera år.",
      "Jag läste fem romaner förra sommaren.",
      "Vi hyrde stuga i Skåne förra sommaren.",
      "Förra sommaren var helt magisk."
    ],
    'i höstas': [
      "I höstas började jag på en kurs i keramik.",
      "Vi plockade mycket svamp i höstas.",
      "I höstas flyttade vi till en ny lägenhet.",
      "Det stormade flera gånger i höstas.",
      "Jag köpte min vinterjacka i höstas."
    ],
    'i vintras': [
      "I vintras åkte vi skridskor på sjön.",
      "Jag blev riktigt förkyld i vintras.",
      "I vintras byggde vi en stor snögubbe.",
      "Vi firade jul i fjällen i vintras.",
      "Det snöade nästan varje dag i vintras."
    ],
    'i våras': [
      "I våras började jag träna regelbundet.",
      "Vi planterade nya blommor i trädgården i våras.",
      "I våras tog jag körkort.",
      "Jag träffade en gammal vän i våras.",
      "Vi hade en mysig picknick i våras."
    ],
    'i sommar': [
      "I sommar ska vi bila genom Europa.",
      "Jag hoppas på mycket sol i sommar.",
      "I sommar vill jag läsa massor av böcker.",
      "Vi planerar att renovera huset i sommar.",
      "Barnen ska gå på ridläger i sommar."
    ],
    'i höst': [
      "I höst börjar Elsa i gymnasiet.",
      "Jag ser fram emot nya serier i höst.",
      "Vi ska måla om vardagsrummet i höst.",
      "I höst ska jag börja plugga igen.",
      "Vi åker till Prag i höst."
    ],
    'i vinter': [
      "I vinter hoppas jag att vi får snö.",
      "Vi ska åka skidor i vinter.",
      "I vinter vill jag läsa fler böcker.",
      "Jag jobbar hemifrån mycket i vinter.",
      "I vinter fyller min syster 40 år."
    ],
    'nästa vår': [
      "Nästa vår ska vi odla tomater på balkongen.",
      "Jag fyller år nästa vår.",
      "Nästa vår åker vi till Paris.",
      "Jag ska börja jogga igen nästa vår.",
      "Vi firar påsk med släkten nästa vår."
    ],
    'nästa sommar': [
      "Nästa sommar planerar vi bröllop.",
      "Jag vill hyra en husbil nästa sommar.",
      "Vi ska hälsa på släkten i Kroatien nästa sommar.",
      "Nästa sommar hoppas jag kunna ta långledigt.",
      "Jag ska jobba på festival nästa sommar."
    ]
  };

const specialMessages = {
  'i vår': 'While "<u>i vår</u>" is grammatically correct, it may cause confusion here because the previous spring has recently passed. Use "<u>nästa vår</u>" instead.'
};


  function moveTo(label, buttonElement) {
    const marker = document.getElementById('marker');
    const image = document.getElementById('seasonImage');
    const output = document.getElementById('example-output');
    const position = seasonPositions[label];

    if (position !== undefined) {
      const imageWidth = image.offsetWidth;
      const newLeft = (position / 100) * imageWidth;
      marker.style.left = `${newLeft}px`;
    }
	
	// Hantera ikonbyte
document.querySelectorAll('.eye-icon').forEach(icon => {
  icon.classList.remove('fa-eye');
  icon.classList.add('fa-eye-slash');
});

if (buttonElement) {
  buttonElement.classList.remove('fa-eye-slash');
  buttonElement.classList.add('fa-eye');
}

    // Hantera översättning under knappen
    document.querySelectorAll('.translation').forEach(span => span.innerHTML = '');
    if (buttonElement) {
      const translationSpan = buttonElement.parentElement.querySelector('.translation');
      translationSpan.innerHTML = englishTranslations[label] || '';
    }

// Särskilt fall: visa meddelande istället för exempelmening
if (specialMessages[label]) {
  const output = document.getElementById('example-output');
  output.classList.remove('visible');
  output.classList.add('red-text'); // Lägg till den röda färgen

  setTimeout(() => {
    // Hämta en slumpmässig "nästa vår"-mening
    const nextSpringExamples = exampleSentences['nästa vår'];
    const randomIndex = Math.floor(Math.random() * nextSpringExamples.length);
    const nextSpringSentence = nextSpringExamples[randomIndex];

    // Kombinera specialmeddelande och slumpad mening med radbrytning
    output.innerHTML = specialMessages[label] + `<br><br>` + `<span style="font-style: normal; color: black;">${nextSpringSentence}</span>`;
    output.classList.add('visible');
  }, 50);
  return;
}

output.classList.remove('red-text');


    // Slumpa mening
    const examples = exampleSentences[label];
    if (examples && examples.length > 0) {
      const randomIndex = Math.floor(Math.random() * examples.length);
      const newText = examples[randomIndex];

      output.classList.remove('visible');
      setTimeout(() => {
        output.textContent = newText;
        output.classList.add('visible');
      }, 50);
    } else {
      output.classList.remove('visible');
      output.textContent = '';
    }
  }

  // Init-position
  window.onload = () => {
  moveTo('start');
 
  const output = document.getElementById('example-output');
  output.classList.remove('visible');
  setTimeout(() => {
    output.innerHTML = "Click one any eye to reveal how to refer to the corresponding season. Each time, you'll also get an example sentence in Swedish.";
    output.classList.add('visible');
  }, 50);
};
</script>

</body>
</html>
