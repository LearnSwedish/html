<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indefinite article + adjective agreement</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f8f9fa;
        }

        .page-wrapper {
            width: 1000px;
            padding: 40px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
			box-sizing: border-box;
        }

        .text-content {
            margin-bottom: 40px;
            text-align: center;
        }

        h1 {
            color: #2c5d7d;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .main-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 25px;
            padding: 20px;
        }

        .picker-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .viewport {
            height: 250px;
            overflow: hidden;
            width: 160px;
            border: 1px solid #ddd;
            background: #fff;
            position: relative;
            margin: 10px 0;
            border-radius: 8px;
        }

        .focus-frame {
            position: absolute;
            top: 100px;
            left: 0;
            width: 100%;
            height: 50px;
            border-top: 2px solid #2c5d7d;
            border-bottom: 2px solid #2c5d7d;
            pointer-events: none;
            z-index: 10;
        }

        .scroll-list {
            transition: transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .item {
            height: 50px;
            line-height: 50px;
            font-size: 18px;
            color: #bbb;
            transition: color 0.3s, font-weight 0.3s;
        }

        .item.active {
            color: #333;
            font-weight: bold;
            font-size: 22px;
        }

        .arrow-btn {
            background: #2c5d7d;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .arrow-btn:disabled {
            background: #eee;
            color: #ccc;
            cursor: not-allowed;
        }

        .arrow-btn:hover:not(:disabled) {
            background: #1e4158;
            transform: scale(1.1);
        }

        .translation-box {
            font-size: 28px;
            font-weight: 700;
            color: #2c5d7d;
            min-width: 300px;
            border-bottom: 3px solid #eee;
            padding-bottom: 10px;
            text-align: center;
            margin-left: 20px;
        }

        .error { color: #d9534f; }
    </style>
</head>
<body>

<div class="page-wrapper">
    <div class="text-content">
        <h1>Indefinite [article + adjective + noun] agreement</h1>
        <p class="ingress">
            Adjectives must agree with the noun's gender and number. For plural nouns, use the plural adjective form.<br />For singular nouns, you must choose between the en-gender or ett-gender form.
    </div>

    <div class="main-container">
        <div class="picker-container">
            <button id="art-up" class="arrow-btn" onclick="move('art', -1)">▲</button>
            <div class="viewport">
                <div class="focus-frame"></div>
                <div id="art-list" class="scroll-list"></div>
            </div>
            <button id="art-down" class="arrow-btn" onclick="move('art', 1)">▼</button>
        </div>

        <div class="picker-container">
            <button id="adj-up" class="arrow-btn" onclick="move('adj', -1)">▲</button>
            <div class="viewport">
                <div class="focus-frame"></div>
                <div id="adj-list" class="scroll-list"></div>
            </div>
            <button id="adj-down" class="arrow-btn" onclick="move('adj', 1)">▼</button>
        </div>

        <div class="picker-container">
            <button id="noun-up" class="arrow-btn" onclick="move('noun', -1)">▲</button>
            <div class="viewport">
                <div class="focus-frame"></div>
                <div id="noun-list" class="scroll-list"></div>
            </div>
            <button id="noun-down" class="arrow-btn" onclick="move('noun', 1)">▼</button>
        </div>

        <div class="translation-box" id="result-display">a lovely flower</div>
    </div>
</div>

<script>
    const articles = ["en", "ett", "—"];
    
    const adjectives = [
        { sw: "härlig", form: "en" },
        { sw: "härligt", form: "ett" },
        { sw: "härliga", form: "plural" }
    ];

    const nouns = [
        { sw: "barn", gen: "ett", type: "flexible", be: "a lovely child", bePlural: "lovely children" },
        { sw: "träd", gen: "ett", type: "flexible", be: "a lovely tree", bePlural: "lovely trees" },
        { sw: "blomma", gen: "en", type: "standard", be: "a lovely flower", bePlural: "lovely flowers" },
        { sw: "blommor", gen: "en", type: "plural-only", bePlural: "lovely flowers" },
        { sw: "hus", gen: "ett", type: "flexible", be: "a lovely house", bePlural: "lovely houses" },
        { sw: "bil", gen: "en", type: "standard", be: "a lovely car", bePlural: "lovely cars" },
        { sw: "bilar", gen: "en", type: "plural-only", bePlural: "lovely cars" }
    ];

    // Startpositioner för "en härlig blomma"
    let artPos = 0;   // "en"
    let adjPos = 0;   // "härlig"
    let nounPos = 2;  // "blomma"

    function init() {
        renderList('art-list', articles.map(a => ({sw: a})));
        renderList('adj-list', adjectives);
        renderList('noun-list', nouns);
        updateUI();
    }

    function renderList(id, data) {
        const container = document.getElementById(id);
        data.forEach(item => {
            const div = document.createElement('div');
            div.className = 'item';
            div.innerText = item.sw;
            container.appendChild(div);
        });
    }

    function move(type, dir) {
        if (type === 'art') artPos = Math.max(0, Math.min(articles.length - 1, artPos + dir));
        else if (type === 'adj') adjPos = Math.max(0, Math.min(adjectives.length - 1, adjPos + dir));
        else nounPos = Math.max(0, Math.min(nouns.length - 1, nounPos + dir));
        updateUI();
    }

    function updateUI() {
        document.getElementById('art-list').style.transform = `translateY(${100 - (artPos * 50)}px)`;
        document.getElementById('adj-list').style.transform = `translateY(${100 - (adjPos * 50)}px)`;
        document.getElementById('noun-list').style.transform = `translateY(${100 - (nounPos * 50)}px)`;

        document.getElementById('art-up').disabled = (artPos === 0);
        document.getElementById('art-down').disabled = (artPos === articles.length - 1);
        document.getElementById('adj-up').disabled = (adjPos === 0);
        document.getElementById('adj-down').disabled = (adjPos === adjectives.length - 1);
        document.getElementById('noun-up').disabled = (nounPos === 0);
        document.getElementById('noun-down').disabled = (nounPos === nouns.length - 1);

        updateActiveClass('art-list', artPos);
        updateActiveClass('adj-list', adjPos);
        updateActiveClass('noun-list', nounPos);

        const selArt = articles[artPos];
        const selAdj = adjectives[adjPos];
        const selNoun = nouns[nounPos];
        const display = document.getElementById('result-display');

        let result = "???";

        if (selArt === "—" && selAdj.form === "plural") {
            if (selNoun.type === "flexible" || selNoun.type === "plural-only") {
                result = selNoun.bePlural;
            }
        } 
        else if (selArt === selNoun.gen && selAdj.form === selNoun.gen) {
            if (selNoun.type === "flexible" || selNoun.type === "standard") {
                result = selNoun.be;
            }
        }

        display.innerText = result;
        if (result === "???") display.classList.add('error');
        else display.classList.remove('error');
    }

    function updateActiveClass(id, pos) {
        const items = document.getElementById(id).children;
        for(let i=0; i<items.length; i++) {
            items[i].classList.toggle('active', i === pos);
        }
    }

    init();
</script>

</body>
</html>