<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Klassisk musik ‚Äì quiz</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
body {
  font-family: "Segoe UI", sans-serif;
  background: #1a1a1a;
  color: #fff;
  text-align: center;
  margin: 0;
  padding: 0;
}
h1 { margin: 20px; font-size: 1.5rem; }
.container {
  background: #222;
  margin: 20px auto;
  padding: 20px;
  border-radius: 16px;
  max-width: 450px;
}
button, select {
  background: #ffcc00;
  color: #000;
  border: none;
  border-radius: 8px;
  padding: 10px 15px;
  margin: 8px;
  font-size: 1rem;
  width: 90%;
  max-width: 300px;
}
button:hover, select:hover { background: #ffdb4d; }
audio { display: none; }
.feedback {
  margin-top: 10px;
  font-weight: bold;
}
.correct { color: #80ff80; }
.wrong { color: #ff8080; }
</style>
</head>
<body>

<h1>Klassisk musik ‚Äì quiz</h1>

<div class="container">
  <p>Klicka p√• <strong>Spela</strong> f√∂r att h√∂ra stycket, och v√§lj r√§tt alternativ:</p>
  <button id="playBtn">‚ñ∂ Spela</button><br><br>

  <label>Komposit√∂r:</label><br>
  <select id="composerSelect">
    <option value="">V√§lj...</option>
  </select><br><br>

  <label>Stycke:</label><br>
  <select id="titleSelect">
    <option value="">V√§lj...</option>
  </select><br><br>

  <label>Epok:</label><br>
  <select id="eraSelect">
    <option value="">V√§lj...</option>
    <option>Barock</option>
    <option>Wienklassicism</option>
    <option>Romantik</option>
  </select><br><br>

  <button id="checkBtn">Kontrollera</button>
  <button id="nextBtn">N√§sta</button>

  <div class="feedback" id="feedback"></div>
</div>

<audio id="player" type="audio/mpeg"></audio>

<script>
const pieces = [
  {mp3:"https://learnswedish.github.io/html/Bach-Air.mp3", composer:"Johann Sebastian Bach", title:"Air", era:"Barock"},
  {mp3:"https://learnswedish.github.io/html/Bach-Toccata.mp3", composer:"Johann Sebastian Bach", title:"Toccata och fuga", era:"Barock"},
  {mp3:"https://learnswedish.github.io/html/Handel.mp3", composer:"Georg Friedrich H√§ndel", title:"Hallelujak√∂ren ur Messias", era:"Barock"},
  {mp3:"https://learnswedish.github.io/html/Vivaldi.mp3", composer:"Antonio Vivaldi", title:"V√•ren ur De fyra √•rstiderna", era:"Barock"},
  {mp3:"https://learnswedish.github.io/html/Haydn.mp3", composer:"Joseph Haydn", title:"Kejsarkvartetten", era:"Wienklassicism"},
  {mp3:"https://learnswedish.github.io/html/Mozart-Eine.mp3", composer:"Wolfgang Amadeus Mozart", title:"Eine kleine Nachtmusik", era:"Wienklassicism"},
  {mp3:"https://learnswedish.github.io/html/Mozart-Trollflojten.mp3", composer:"Wolfgang Amadeus Mozart", title:"Nattens drottning ur Trollfl√∂jten", era:"Wienklassicism"},
  {mp3:"https://learnswedish.github.io/html/Beethoven-5.mp3", composer:"Ludwig van Beethoven", title:"Symfoni nr 5 (√ñdessymfonin)", era:"Wienklassicism"},
  {mp3:"https://learnswedish.github.io/html/Beethoven-Fur.mp3", composer:"Ludwig van Beethoven", title:"F√ºr Elise", era:"Wienklassicism"},
  {mp3:"https://learnswedish.github.io/html/Chopin.mp3", composer:"Fr√©d√©ric Chopin", title:"Nocturne opus 9 nummer 2", era:"Romantik"},
  {mp3:"https://learnswedish.github.io/html/Grieg.mp3", composer:"Edvard Grieg", title:"I Bergakungens sal ur Peer Gynt", era:"Romantik"},
  {mp3:"https://learnswedish.github.io/html/Tjajkovskij.mp3", composer:"Pjotr Tjajkovskij", title:"Svansj√∂n", era:"Romantik"},
  {mp3:"https://learnswedish.github.io/html/Verdi.mp3", composer:"Giuseppe Verdi", title:"La donna √® mobile ur Rigoletto", era:"Romantik"},
  {mp3:"https://learnswedish.github.io/html/Wagner.mp3", composer:"Richard Wagner", title:"Tristan och Isolde", era:"Romantik"},
  {mp3:"https://learnswedish.github.io/html/Strauss.mp3", composer:"Richard Strauss", title:"Also sprach Zarathustra", era:"Romantik"}
];

// Dropdown-listor
const composerSelect = document.getElementById("composerSelect");
const titleSelect = document.getElementById("titleSelect");
const player = document.getElementById("player");
const feedback = document.getElementById("feedback");

const composers = [...new Set(pieces.map(p => p.composer))];
composers.forEach(c => {
  const opt = document.createElement("option");
  opt.textContent = c;
  opt.value = c;
  composerSelect.appendChild(opt);
});

pieces.forEach(p => {
  const opt = document.createElement("option");
  opt.textContent = p.title;
  opt.value = p.title;
  titleSelect.appendChild(opt);
});

let remaining = [...pieces];
let current = null;

function loadPiece() {
  if (remaining.length === 0) {
    feedback.innerHTML = "üéâ Du har g√•tt igenom alla stycken!";
    document.getElementById("playBtn").disabled = true;
    document.getElementById("checkBtn").disabled = true;
    document.getElementById("nextBtn").disabled = true;
    return;
  }

  const randomIndex = Math.floor(Math.random() * remaining.length);
  current = remaining.splice(randomIndex, 1)[0];

  player.src = current.mp3;
  composerSelect.value = "";
  titleSelect.value = "";
  document.getElementById("eraSelect").value = "";
  feedback.textContent = "";
}

document.getElementById("playBtn").onclick = () => player.play();

document.getElementById("checkBtn").onclick = () => {
  if (!current) return;

  const composer = composerSelect.value;
  const title = titleSelect.value;
  const era = document.getElementById("eraSelect").value;

  if (!composer || !title || !era) {
    feedback.textContent = "V√§lj alla alternativ f√∂rst.";
    feedback.className = "feedback wrong";
    return;
  }

  if (composer === current.composer && title === current.title && era === current.era) {
    feedback.textContent = "R√§tt! üé∂";
    feedback.className = "feedback correct";
  } else {
    feedback.innerHTML = `Fel. <br>R√§tt svar: <br><strong>${current.composer}</strong> ‚Äì ${current.title} (${current.era})`;
    feedback.className = "feedback wrong";
  }
};

document.getElementById("nextBtn").onclick = loadPiece;

loadPiece();
</script>
</body>
</html>
