<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kemiquiz 1</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<style>
  body {
    font-family: "Segoe UI", sans-serif;
    background-color: #f8f9fa;
    color: #111;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    min-height: 100vh;
    padding: 20px;
    transition: background 0.3s, color 0.3s;
  }
  body.dark {
    background-color: #1c1c1e;
    color: #f8f9fa;
  }
  h1 {
    margin-bottom: 10px;
    text-align: center;
  }
  .question-box {
    background: #fff;
    color: #111;
    border-radius: 12px;
    padding: 20px;
    max-width: 400px;
    width: 100%;
    box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    margin-top: 20px;
    transition: background 0.3s, color 0.3s;
  }
  body.dark .question-box {
    background: #2c2c2e;
    color: #f8f9fa;
  }
  button.option {
    display: block;
    width: 100%;
    padding: 12px;
    margin: 6px 0;
    border: none;
    border-radius: 8px;
    background: #e9ecef;
    font-size: 1.1em;
    cursor: pointer;
    transition: background 0.2s;
  }
  body.dark button.option {
    background: #3a3a3c;
    color: #fff;
  }
  button.option:hover { background: #dfe3e6; }
  body.dark button.option:hover { background: #4a4a4c; }
  button.correct { background: #2ecc71 !important; color: #fff; }
  button.wrong { background: #e74c3c !important; color: #fff; }
  #next-btn {
    margin-top: 10px;
    background: #0078d7;
    color: #fff;
    border: none;
    padding: 10px 18px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1em;
  }
  #next-btn:hover { background: #005fa3; }
  #score { margin-top: 15px; font-weight: 600; }
  #dark-toggle {
    position: fixed;
    top: 15px;
    right: 15px;
    background: #f1c40f;
    color: #000;
    border: none;
    padding: 8px 12px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.2em;
    transition: background 0.3s;
  }
  #dark-toggle:hover { background: #ffd60a; }
</style>
</head>
<body>
<button id="dark-toggle" title="Byt tema"><i class="fas fa-moon"></i></button>
<h1>Grundämnen – kemiska tecken</h1>
<div class="question-box">
  <div id="question"></div>
  <div id="options"></div>
  <button id="next-btn" style="display:none;">Nästa</button>
  <div id="score"></div>
</div>

<script>
const elements = [
  {name:"Väte", symbol:"H"},
  {name:"Helium", symbol:"He"},
  {name:"Litium", symbol:"Li"},
  {name:"Beryllium", symbol:"Be"},
  {name:"Bor", symbol:"B"},
  {name:"Kol", symbol:"C"},
  {name:"Kväve", symbol:"N"},
  {name:"Syre", symbol:"O"},
  {name:"Fluor", symbol:"F"},
  {name:"Neon", symbol:"Ne"},
  {name:"Natrium", symbol:"Na"},
  {name:"Magnesium", symbol:"Mg"},
  {name:"Aluminium", symbol:"Al"},
  {name:"Kisel", symbol:"Si"},
  {name:"Fosfor", symbol:"P"},
  {name:"Svavel", symbol:"S"},
  {name:"Klor", symbol:"Cl"},
  {name:"Argon", symbol:"Ar"},
  {name:"Kalium", symbol:"K"},
  {name:"Kalcium", symbol:"Ca"}
];

let shuffled = elements.sort(() => Math.random() - 0.5);
let index = 0;
let score = 0;

function nextQuestion() {
  document.getElementById("next-btn").style.display = "none";
  const q = shuffled[index];
  document.getElementById("question").innerHTML = `<h2>${index+1}. Vad är det kemiska tecknet för <strong>${q.name}</strong>?</h2>`;
  const allSymbols = elements.map(e => e.symbol);
  const options = new Set([q.symbol]);
  while (options.size < 4) {
    options.add(allSymbols[Math.floor(Math.random() * allSymbols.length)]);
  }
  const opts = Array.from(options).sort(() => Math.random() - 0.5);
  const optContainer = document.getElementById("options");
  optContainer.innerHTML = "";
  opts.forEach(sym => {
    const btn = document.createElement("button");
    btn.textContent = sym;
    btn.className = "option";
    btn.onclick = () => checkAnswer(btn, q.symbol);
    optContainer.appendChild(btn);
  });
}

function checkAnswer(btn, correct) {
  const buttons = document.querySelectorAll(".option");
  buttons.forEach(b => b.disabled = true);
  if (btn.textContent === correct) {
    btn.classList.add("correct");
    score++;
  } else {
    btn.classList.add("wrong");
    buttons.forEach(b => {
      if (b.textContent === correct) b.classList.add("correct");
    });
  }
  document.getElementById("score").textContent = `Poäng: ${score} / ${elements.length}`;
  document.getElementById("next-btn").style.display = "block";
}

document.getElementById("next-btn").addEventListener("click", () => {
  index++;
  if (index < shuffled.length) {
    nextQuestion();
  } else {
    document.getElementById("question").innerHTML = `<h2>Klart!</h2>`;
    document.getElementById("options").innerHTML = "";
    document.getElementById("next-btn").style.display = "none";
    document.getElementById("score").textContent = `Slutresultat: ${score} av ${elements.length}`;
  }
});

document.getElementById("dark-toggle").addEventListener("click", () => {
  document.body.classList.toggle("dark");
  const icon = document.querySelector("#dark-toggle i");
  icon.classList.toggle("fa-sun");
  icon.classList.toggle("fa-moon");
});

nextQuestion();
</script>
</body>
</html>
