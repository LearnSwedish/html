<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flashcards ‚Äì Svenska / Holl√§ndska</title>

<style>
    body {
        margin: 0;
        font-family: "Segoe UI", sans-serif;
        background: #f5f5f5;
        color: #111;
        height: 100vh;
        display: flex;
        flex-direction: column;
        transition: background 0.3s, color 0.3s;
        overflow: hidden;
    }
    body.dark {
        background: #121212;
        color: #eee;
    }

    #darkToggle {
        position: absolute;
        top: 15px;
        right: 15px;
        font-size: 26px;
        cursor: pointer;
        z-index: 20;
    }

    #directionToggle {
        position: absolute;
        top: 15px;
        left: 15px;
        font-size: 18px;
        padding: 6px 12px;
        background: #007acc;
        color: white;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        z-index: 20;
    }
    body.dark #directionToggle {
        background: #0d6efd;
    }

    #header {
        text-align: center;
        padding: 15px;
        font-size: 20px;
        font-weight: 600;
    }

    .card-container {
        perspective: 1000px;
        margin: auto;
        width: 90%;
        max-width: 400px;
        position: relative;
    }

    .card {
        width: 100%;
        height: 240px;
        border-radius: 15px;
        position: relative;
        transform-style: preserve-3d;
        transition: transform 0.6s;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    }

    .flipped {
        transform: rotateY(180deg);
    }

    .side {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border-radius: 15px;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 15px;
        font-size: 32px;
        text-align: center;
        background: white;
        color: #111;
    }
    body.dark .side {
        background: #1e1e1e;
        color: #eee;
    }

    .back {
        transform: rotateY(180deg);
    }

    #controls {
        text-align: center;
        padding-bottom: 25px;
    }

    button.navbtn {
        background: #007acc;
        border: none;
        padding: 12px 22px;
        border-radius: 8px;
        color: white;
        font-size: 20px;
        margin: 0 10px;
    }
    body.dark .navbtn {
        background: #0d6efd;
    }

    /* Modal */
.modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    z-index: 50;
    justify-content: center;
    align-items: center;
}

.modal-content {
    width: 90%;           /* samma som card-container */
    max-width: 400px;     /* samma som card-container */
    height: 240px;        /* samma h√∂jd som kortet */
    border-radius: 15px;  /* exakt samma rundning */
    background: white;
    padding: 20px;

    box-shadow: 0 4px 15px rgba(0,0,0,0.25);
}
body.dark .modal-content {
    background: #1e1e1e;
    color: #eee;
}
	
    .close {
        float: right;
        font-size: 28px;
        cursor: pointer;
    }

#gramBtn {
    position: absolute;
    bottom: 10px;
    right: 10px;
    padding: 6px 12px;
    background: #007acc;
    color: white;
    border-radius: 6px;
    border: none;
    font-size: 14px;
    cursor: pointer;
    z-index: 15;
}

body.dark #gramBtn {
    background: #0d6efd;
}

/* N√§r kortet √§r v√§nt (NL ‚Üí SE, svenska p√• baksidan):
   - flytta knappen visuellt till nederkant H√ñGER igen
   - rotera s√• att texten inte √§r spegelv√§nd */
.card.flipped #gramBtn {
    margin-left: 40px;        /* beh√•ll h√∂gerplacering */
    right: auto;         /* st√§ng av v√§nsterplacering */
    transform: rotateY(180deg);
}


    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
    }

    th, td {
        padding: 6px;
        border-bottom: 1px solid #ccc;
    }
	

</style>
</head>

<body>

<!-- Modal -->
<div id="grammarModal" class="modal">
    <div class="modal-content">
        <span id="closeModal" class="close">&times;</span>
        <h2 id="modalWord"></h2>
        <table>
            <tr><th>onbepaald enkelvoud</th><td id="sIndef"></td></tr>
            <tr><th>bepaald enkelvoud</th><td id="sDef"></td></tr>
            <tr><th>onbepaald meervoud</th><td id="pIndef"></td></tr>
            <tr><th>bepaald meervoud</th><td id="pDef"></td></tr>
        </table>
    </div>
</div>

<button id="directionToggle">SE ‚Üí NL</button>
<div id="darkToggle">üåô</div>
<div id="header">Flashcards</div>

<div class="card-container">
    <div id="card" class="card">
        <div id="front" class="side"></div>
        <button id="gramBtn" style="display:none;">Grammatica</button>
        <div id="back" class="side back"></div>
    </div>
</div>

<div id="controls">
    <button id="prevBtn" class="navbtn">‚¨ÖÔ∏è</button>
    <button id="nextBtn" class="navbtn">‚û°Ô∏è</button>
</div>

<script>
// =========================
// DATA
// =========================
let DATA = [
{ sv:"erfarenhet", nl:"ervaring" },
{ sv:"l√∂neanspr√•k", nl:"salarisverwachting" },
{ sv:"arbetsbelastning", nl:"werkbelasting" },
{ sv:"bakgrund", nl:"achtergrond" },
{ sv:"utbildning", nl:"opleiding" },
{ sv:"kompetens", nl:"competentie / vaardigheid" },
{ sv:"arbetslivserfarenhet", nl:"werkervaring" },
{ sv:"ansvar", nl:"verantwoordelijkheid" },
{ sv:"arbetsuppgift", nl:"werktaak / taak" },
{ sv:"tj√§nst", nl:"functie / positie" },
{ sv:"roll", nl:"rol" },
{ sv:"m√•l", nl:"doel" },
{ sv:"personlighet", nl:"persoonlijkheid" },
{ sv:"drivkraft", nl:"drijfveer / motivatie" },
{ sv:"m√∂jlighet", nl:"mogelijkheid / kans" },
{ sv:"utmaning", nl:"uitdaging" },
{ sv:"trivsel", nl:"werkplezier / welzijn" },
{ sv:"arbetsmilj√∂", nl:"werkomgeving" },
{ sv:"resultat", nl:"resultaat" },
{ sv:"situation", nl:"situatie" },
{ sv:"problem", nl:"probleem" },
{ sv:"l√∂sning", nl:"oplossing" },
{ sv:"konflikt", nl:"conflict" },
{ sv:"missf√∂rst√•nd", nl:"misverstand" },
{ sv:"planering", nl:"planning" },
{ sv:"strategi", nl:"strategie" },
{ sv:"fokus", nl:"focus" },
{ sv:"tidsram", nl:"tijdsbestek / tijdsframe" },
{ sv:"introduktion", nl:"introductie" },
{ sv:"utvecklingsm√∂jlighet", nl:"ontwikkelingsmogelijkheid" },
{ sv:"arbetskultur", nl:"werkcultuur" },
{ sv:"schema", nl:"rooster / schema" },
{ sv:"styrka", nl:"sterke punt" },
{ sv:"svaghet", nl:"zwakte" },
{ sv:"prestation", nl:"prestatie" },
{ sv:"f√∂rm√•ga", nl:"vermogen / capaciteit" },
{ sv:"egenskap", nl:"eigenschap" },
{ sv:"arbetsgrupp", nl:"werkgroep / team" },
{ sv:"kollega", nl:"collega" },
{ sv:"chef", nl:"leidinggevende / chef" },
{ sv:"ansvarstagande", nl:"verantwoordelijkheidsgevoel" },
{ sv:"utveckling", nl:"ontwikkeling" },
{ sv:"f√∂rb√§ttring", nl:"verbetering" },
{ sv:"beslut", nl:"beslissing" },
{ sv:"feedback", nl:"feedback" },
{ sv:"l√∂sningsf√∂rm√•ga", nl:"probleemoplossend vermogen" },
{ sv:"arbetsupplevelse", nl:"werkervaring" },
{ sv:"kommunikation", nl:"communicatie" },
{ sv:"struktur", nl:"structuur" },
{ sv:"projekt", nl:"project" },
{ sv:"arbetsprocess", nl:"werkproces" },
{ sv:"introduktionsperiod", nl:"inwerkperiode / introductieperiode" }
];

// =========================
// GRAMMATIKDATA (FYLL P√Ö FRITT)
// =========================
const GRAMMAR = {

    "erfarenhet": {
        sIndef: "en erfarenhet",
        sDef:   "erfarenheten",
        pIndef: "erfarenheter",
        pDef:   "erfarenheterna"
    },

    "l√∂neanspr√•k": {
        sIndef: "ett l√∂neanspr√•k",
        sDef:   "l√∂neanspr√•ket",
        pIndef: "l√∂neanspr√•k",
        pDef:   "l√∂neanspr√•ken"
    },

    "arbetsbelastning": {
        sIndef: "en arbetsbelastning",
        sDef:   "arbetsbelastningen",
        pIndef: "arbetsbelastningar",
        pDef:   "arbetsbelastningarna"
    },

    "bakgrund": {
        sIndef: "en bakgrund",
        sDef:   "bakgrunden",
        pIndef: "bakgrunder",
        pDef:   "bakgrunderna"
    },

    "utbildning": {
        sIndef: "en utbildning",
        sDef:   "utbildningen",
        pIndef: "utbildningar",
        pDef:   "utbildningarna"
    },

    "kompetens": {
        sIndef: "en kompetens",
        sDef:   "kompetensen",
        pIndef: "kompetenser",
        pDef:   "kompetenserna"
    },

    "arbetslivserfarenhet": {
        sIndef: "en arbetslivserfarenhet",
        sDef:   "arbetslivserfarenheten",
        pIndef: "arbetslivserfarenheter",
        pDef:   "arbetslivserfarenheterna"
    },

    "ansvar": {
        sIndef: "ett ansvar",
        sDef:   "ansvaret",
        pIndef: "ansvar",
        pDef:   "ansvaren"
    },

    "arbetsuppgift": {
        sIndef: "en arbetsuppgift",
        sDef:   "arbetsuppgiften",
        pIndef: "arbetsuppgifter",
        pDef:   "arbetsuppgifterna"
    },

    "tj√§nst": {
        sIndef: "en tj√§nst",
        sDef:   "tj√§nsten",
        pIndef: "tj√§nster",
        pDef:   "tj√§nsterna"
    },

    "roll": {
        sIndef: "en roll",
        sDef:   "rollen",
        pIndef: "roller",
        pDef:   "rollerna"
    },

    "m√•l": {
        sIndef: "ett m√•l",
        sDef:   "m√•let",
        pIndef: "m√•l",
        pDef:   "m√•len"
    },

    "personlighet": {
        sIndef: "en personlighet",
        sDef:   "personligheten",
        pIndef: "personligheter",
        pDef:   "personligheterna"
    },

    "drivkraft": {
        sIndef: "en drivkraft",
        sDef:   "drivkraften",
        pIndef: "drivkrafter",
        pDef:   "drivkrafterna"
    },

    "m√∂jlighet": {
        sIndef: "en m√∂jlighet",
        sDef:   "m√∂jligheten",
        pIndef: "m√∂jligheter",
        pDef:   "m√∂jligheterna"
    },

    "utmaning": {
        sIndef: "en utmaning",
        sDef:   "utmaningen",
        pIndef: "utmaningar",
        pDef:   "utmaningarna"
    },

    "trivsel": {
        sIndef: "en trivsel",
        sDef:   "trivseln",
        pIndef: "‚Äî",
        pDef:   "‚Äî"
    },

    "arbetsmilj√∂": {
        sIndef: "en arbetsmilj√∂",
        sDef:   "arbetsmilj√∂n",
        pIndef: "arbetsmilj√∂er",
        pDef:   "arbetsmilj√∂erna"
    },

    "resultat": {
        sIndef: "ett resultat",
        sDef:   "resultatet",
        pIndef: "resultat",
        pDef:   "resultaten"
    },

    "situation": {
        sIndef: "en situation",
        sDef:   "situationen",
        pIndef: "situationer",
        pDef:   "situationerna"
    },

    "problem": {
        sIndef: "ett problem",
        sDef:   "problemet",
        pIndef: "problem",
        pDef:   "problemen"
    },

    "l√∂sning": {
        sIndef: "en l√∂sning",
        sDef:   "l√∂sningen",
        pIndef: "l√∂sningar",
        pDef:   "l√∂sningarna"
    },

    "konflikt": {
        sIndef: "en konflikt",
        sDef:   "konflikten",
        pIndef: "konflikter",
        pDef:   "konflikterna"
    },

    "missf√∂rst√•nd": {
        sIndef: "ett missf√∂rst√•nd",
        sDef:   "missf√∂rst√•ndet",
        pIndef: "missf√∂rst√•nd",
        pDef:   "missf√∂rst√•nden"
    },

    "planering": {
        sIndef: "en planering",
        sDef:   "planeringen",
        pIndef: "planeringar",
        pDef:   "planeringarna"
    },

    "strategi": {
        sIndef: "en strategi",
        sDef:   "strategin",
        pIndef: "strategier",
        pDef:   "strategierna"
    },

    "fokus": {
        sIndef: "ett fokus",
        sDef:   "fokuset",
        pIndef: "fokus",
        pDef:   "fokusen"
    },

    "tidsram": {
        sIndef: "en tidsram",
        sDef:   "tidsramen",
        pIndef: "tidsramar",
        pDef:   "tidsramarna"
    },

    "introduktion": {
        sIndef: "en introduktion",
        sDef:   "introduktionen",
        pIndef: "introduktioner",
        pDef:   "introduktionerna"
    },

    "utvecklingsm√∂jlighet": {
        sIndef: "en utvecklingsm√∂jlighet",
        sDef:   "utvecklingsm√∂jligheten",
        pIndef: "utvecklingsm√∂jligheter",
        pDef:   "utvecklingsm√∂jligheterna"
    },

    "arbetskultur": {
        sIndef: "en arbetskultur",
        sDef:   "arbetskulturen",
        pIndef: "arbetskulturer",
        pDef:   "arbetskulturerna"
    },

    "schema": {
        sIndef: "ett schema",
        sDef:   "schemat",
        pIndef: "scheman",
        pDef:   "schemana"
    },

    "styrka": {
        sIndef: "en styrka",
        sDef:   "styrkan",
        pIndef: "styrkor",
        pDef:   "styrkorna"
    },

    "svaghet": {
        sIndef: "en svaghet",
        sDef:   "svagheten",
        pIndef: "svagheter",
        pDef:   "svagheterna"
    },

    "prestation": {
        sIndef: "en prestation",
        sDef:   "prestationen",
        pIndef: "prestationer",
        pDef:   "prestationerna"
    },

    "f√∂rm√•ga": {
        sIndef: "en f√∂rm√•ga",
        sDef:   "f√∂rm√•gan",
        pIndef: "f√∂rm√•gor",
        pDef:   "f√∂rm√•gorna"
    },

    "egenskap": {
        sIndef: "en egenskap",
        sDef:   "egenskapen",
        pIndef: "egenskaper",
        pDef:   "egenskaperna"
    },

    "arbetsgrupp": {
        sIndef: "en arbetsgrupp",
        sDef:   "arbetsgruppen",
        pIndef: "arbetsgrupper",
        pDef:   "arbetsgrupperna"
    },

    "kollega": {
        sIndef: "en kollega",
        sDef:   "kollegan",
        pIndef: "kollegor",
        pDef:   "kollegorna"
    },

    "chef": {
        sIndef: "en chef",
        sDef:   "chefen",
        pIndef: "chefer",
        pDef:   "cheferna"
    },

    "ansvarstagande": {
        sIndef: "ett ansvarstagande",
        sDef:   "ansvarstagandet",
        pIndef: "ansvarstaganden",
        pDef:   "ansvarstagandena"
    },

    "utveckling": {
        sIndef: "en utveckling",
        sDef:   "utvecklingen",
        pIndef: "utvecklingar",
        pDef:   "utvecklingarna"
    },

    "f√∂rb√§ttring": {
        sIndef: "en f√∂rb√§ttring",
        sDef:   "f√∂rb√§ttringen",
        pIndef: "f√∂rb√§ttringar",
        pDef:   "f√∂rb√§ttringarna"
    },

    "beslut": {
        sIndef: "ett beslut",
        sDef:   "beslutet",
        pIndef: "beslut",
        pDef:   "besluten"
    },

    "l√∂sningsf√∂rm√•ga": {
        sIndef: "en l√∂sningsf√∂rm√•ga",
        sDef:   "l√∂sningsf√∂rm√•gan",
        pIndef: "l√∂sningsf√∂rm√•gor",
        pDef:   "l√∂sningsf√∂rm√•gorna"
    },

    "arbetsupplevelse": {
        sIndef: "en arbetsupplevelse",
        sDef:   "arbetsupplevelsen",
        pIndef: "arbetsupplevelser",
        pDef:   "arbetsupplevelserna"
    },

    "kommunikation": {
        sIndef: "en kommunikation",
        sDef:   "kommunikationen",
        pIndef: "kommunikationer",
        pDef:   "kommunikationerna"
    },

    "struktur": {
        sIndef: "en struktur",
        sDef:   "strukturen",
        pIndef: "strukturer",
        pDef:   "strukturerna"
    },

    "projekt": {
        sIndef: "ett projekt",
        sDef:   "projektet",
        pIndef: "projekt",
        pDef:   "projekten"
    },

    "arbetsprocess": {
        sIndef: "en arbetsprocess",
        sDef:   "arbetsprocessen",
        pIndef: "arbetsprocesser",
        pDef:   "arbetsprocesserna"
    },

    "introduktionsperiod": {
        sIndef: "en introduktionsperiod",
        sDef:   "introduktionsperioden",
        pIndef: "introduktionsperioder",
        pDef:   "introduktionsperioderna"
    }

};


// =========================
// LOGIK
// =========================
let index = 0;
let direction = "se-nl";

const card = document.getElementById("card");
const front = document.getElementById("front");
const back = document.getElementById("back");
const directionToggle = document.getElementById("directionToggle");
const gramBtn = document.getElementById("gramBtn");
const modal = document.getElementById("grammarModal");
const closeModal = document.getElementById("closeModal");
const darkToggle = document.getElementById("darkToggle"); // Lade till darkToggle h√§r
const prevBtn = document.getElementById("prevBtn"); // Lade till prevBtn h√§r
const nextBtn = document.getElementById("nextBtn"); // Lade till nextBtn h√§r

function shuffle() {
    DATA.sort(() => Math.random() - 0.5);
}
shuffle();

// Uppdaterad f√∂r att alltid kolla det svenska ordet (DATA[index].sv) f√∂r grammatik,
// men endast visa knappen om det svenska ordet √§r p√• den synliga (ej-v√§nda) sidan
function updateGramBtn() {
    const swedishIsFront = (direction === "se-nl");
    const isFlipped = card.classList.contains("flipped");
    const hasGrammar = !!GRAMMAR[DATA[index].sv];

    // Svenska √§r synlig om:
    // ‚Äì riktning SE‚ÜíNL + kortet inte √§r v√§nt
    // ‚Äì riktning NL‚ÜíSE + kortet √ÑR v√§nt
    const swedishVisible =
        (swedishIsFront && !isFlipped) ||
        (!swedishIsFront && isFlipped);

    if (hasGrammar && swedishVisible) {
        gramBtn.style.display = "block";
    } else {
        gramBtn.style.display = "none";
    }
}


function showCard() {
    if (direction === "se-nl") {
        front.textContent = DATA[index].sv;
        back.textContent = DATA[index].nl;
        document.title = "Flashcards ‚Äì Svenska / Holl√§ndska"; // Uppdatera titel
    } else {
        front.textContent = DATA[index].nl;
        back.textContent = DATA[index].sv;
        document.title = "Flashcards ‚Äì Holl√§ndska / Svenska"; // Uppdatera titel
    }
    // S√§kerst√§ll att vi inte √§r i v√§nt l√§ge n√§r vi byter kort
    card.classList.remove("flipped"); 
    updateGramBtn(); // Uppdatera knappen n√§r nytt kort visas
}

function nextCard() {
    index = (index + 1) % DATA.length;
    showCard();
}

function prevCard() {
    index = (index - 1 + DATA.length) % DATA.length;
    showCard();
}

showCard();

card.onclick = (e) => {
    if (e.target === gramBtn) return;

    card.classList.toggle("flipped");
    updateGramBtn();
};

darkToggle.onclick = () => {
    document.body.classList.toggle("dark");
    darkToggle.textContent = document.body.classList.contains("dark") ? "‚òÄÔ∏è" : "üåô";
};

directionToggle.onclick = () => {
    direction = (direction === "se-nl") ? "nl-se" : "se-nl";
    directionToggle.textContent = (direction === "se-nl") ? "SE ‚Üí NL" : "NL ‚Üí SE";
    showCard();
    updateGramBtn();
};

let startX = 0;

card.addEventListener("touchstart", e => startX = e.changedTouches[0].clientX);
card.addEventListener("touchend", e => {
    // Till√•t inte svep om modalen √§r √∂ppen
    if(modal.style.display === "flex") return; 
    
    const diff = e.changedTouches[0].clientX - startX;
    if (diff > 50) prevCard();
    if (diff < -50) nextCard();
});

prevBtn.onclick = prevCard;
nextBtn.onclick = nextCard;

gramBtn.onclick = (event) => {
    event.stopPropagation();

    // Ordet √§r alltid DATA[index].sv (det svenska ordet) eftersom knappen 
    // endast visas n√§r DATA[index].sv √§r p√• framsidan (direction="se-nl" och ej flipped)
    const word = DATA[index].sv;
    const g = GRAMMAR[word];
    if (!g) return;

    modal.style.display = "flex";
    document.getElementById("modalWord").textContent = word;
    document.getElementById("sIndef").textContent = g.sIndef;
    document.getElementById("sDef").textContent = g.sDef;
    document.getElementById("pIndef").textContent = g.pIndef;
    document.getElementById("pDef").textContent = g.pDef;
};

closeModal.onclick = () => modal.style.display = "none";
modal.onclick = e => { if (e.target === modal) modal.style.display = "none"; };

</script>

</body>
</html>
