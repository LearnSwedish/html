<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spanska glosor</title>
<style>
  :root {
    --bg: #ffffff;
    --text: #222;
    --card: #f5f5f5;
    --accent: #0077cc;
    --correct: #4caf50;
    --wrong: #e53935;
    --button-bg: #e9e9e9;
    --button-text: #000;
  }
  body.dark {
    --bg: #121212;
    --text: #eee;
    --card: #1e1e1e;
    --accent: #81aefc;
    --button-bg: #2b2b2b;
    --button-text: #fff;
  }
  body {
    font-family: "Segoe UI", system-ui, sans-serif;
    margin: 0;
    background-color: var(--bg);
    color: var(--text);
    transition: background 0.3s, color 0.3s;
  }
  header {
    position: sticky;
    top: 0;
    background: var(--card);
    padding: 10px 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #9993;
    z-index: 100;
  }
  header h1 {
    font-size: 1rem;
    margin: 0;
  }
  #score {
    font-weight: bold;
  }
  #theme-toggle {
    background: var(--accent);
    color: #fff;
    border: none;
    border-radius: 6px;
    padding: 6px 10px;
    margin-left: 10px;
    cursor: pointer;
    font-size: 0.9rem;
  }
  #quiz-container {
    padding: 20px;
    max-width: 600px;
    margin: auto;
  }
  .card {
    background: var(--card);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 5px #0002;
  }
  .question {
    font-size: 1.2rem;
    margin-bottom: 12px;
  }
  .option {
    display: block;
    background: var(--button-bg);
    color: var(--button-text);
    border: 1px solid #9994;
    border-radius: 8px;
    padding: 12px;
    margin: 6px 0;
    text-align: left;
    width: 100%;
    font-size: 1rem;
    cursor: pointer;
    transition: 0.25s;
  }
  .option:hover {
    border-color: var(--accent);
  }
  .option.correct {
    background: var(--correct);
    color: #fff;
  }
  .option.wrong {
    background: var(--wrong);
    color: #fff;
  }
  .bottom-btns {
    display: flex;
    justify-content: flex-end;
    margin-top: 10px;
  }
  button.next-btn {
    background: var(--accent);
    color: #fff;
    border: none;
    border-radius: 8px;
    padding: 10px 18px;
    font-size: 1rem;
    cursor: pointer;
  }
  button.next-btn:hover {
    opacity: 0.9;
  }
</style>
</head>
<body>
<header>
  <h1>Fiskaren: 2025-10-16</h1>
  <div style="display:flex;align-items:center;">
    <div id="score">0 / 0</div>
    <button id="theme-toggle">üåô</button>
  </div>
</header>

<div id="quiz-container"></div>

<script>
const words = [
  {es:"lejos de aqu√≠", sv:"l√•ngt h√§rifr√•n"},
  {es:"el puerto", sv:"hamnen"},
  {es:"contestar", sv:"svara"},
  {es:"continuar", sv:"forts√§tta"},
  {es:"fuerte", sv:"stark, kraftig"},
  {es:"viejo/a", sv:"gammal"},
  {es:"salir", sv:"g√• ut"},
  {es:"pescar", sv:"fiska"},
  {es:"vender", sv:"s√§lja"},
  {es:"entonces", sv:"d√•"},
  {es:"preguntar", sv:"att fr√•ga"},
  {es:"quedarse", sv:"stanna kvar"},
  {es:"el barco", sv:"b√•ten"},
  {es:"claro que s√≠", sv:"sj√§lvklart"},
  {es:"ganar", sv:"tj√§na, vinna"},
  {es:"si", sv:"om"},
  {es:"comprar", sv:"k√∂pa"},
  {es:"todav√≠a m√°s", sv:"√§nnu mer"},
  {es:"despu√©s de", sv:"efter att ha"},
  {es:"relajarse", sv:"ta det lugnt"},
  {es:"lo que", sv:"det som"},
  {es:"tratar de", sv:"handla om"},
  {es:"el pescador", sv:"fiskaren"},
  {es:"descansar", sv:"att vila"},
  {es:"capturar", sv:"att f√•nga"}
];

let current = 0;
let correctCount = 0;
let asked = 0;
const quizContainer = document.getElementById("quiz-container");
const scoreDisplay = document.getElementById("score");

function shuffle(array){
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

const allQuestions = shuffle([...words]);

function nextQuestion(){
  quizContainer.innerHTML = "";
  if (current >= allQuestions.length){
    quizContainer.innerHTML = `<h2>Klart! Du fick ${correctCount} av ${asked} r√§tt.</h2>
      <button class="next-btn" onclick="restart()">Starta om</button>`;
    return;
  }
  const q = allQuestions[current];
  asked++;
  const card = document.createElement("div");
  card.className = "card";
  card.innerHTML = `<div class="question"><b>${q.es}</b></div>`;
  let options = [q.sv];
  while (options.length < 5) {
    const random = words[Math.floor(Math.random() * words.length)].sv;
    if (!options.includes(random)) options.push(random);
  }
  shuffle(options);
  options.forEach(opt => {
    const btn = document.createElement("button");
    btn.className = "option";
    btn.textContent = opt;
    btn.onclick = () => checkAnswer(btn, opt === q.sv);
    card.appendChild(btn);
  });
  const nextDiv = document.createElement("div");
  nextDiv.className = "bottom-btns";
  const nextBtn = document.createElement("button");
  nextBtn.className = "next-btn";
  nextBtn.textContent = "N√§sta";
  nextBtn.onclick = () => { current++; nextQuestion(); };
  nextDiv.appendChild(nextBtn);
  card.appendChild(nextDiv);
  quizContainer.appendChild(card);
  updateScore();
}

function checkAnswer(btn, isCorrect){
  const options = document.querySelectorAll(".option");
  options.forEach(b=>b.disabled = true);
  if (isCorrect) {
    btn.classList.add("correct");
    correctCount++;
  } else {
    btn.classList.add("wrong");
  }
  updateScore();
}

function updateScore(){
  scoreDisplay.textContent = `${correctCount} / ${asked}`;
}

function restart(){
  correctCount = 0;
  asked = 0;
  current = 0;
  shuffle(allQuestions);
  nextQuestion();
}

document.getElementById("theme-toggle").addEventListener("click", ()=>{
  document.body.classList.toggle("dark");
  const icon = document.body.classList.contains("dark") ? "‚òÄÔ∏è" : "üåô";
  document.getElementById("theme-toggle").textContent = icon;
});

nextQuestion();
</script>
</body>
</html>
